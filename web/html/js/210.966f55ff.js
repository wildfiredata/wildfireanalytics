"use strict";(self["webpackChunkwildfire"]=self["webpackChunkwildfire"]||[]).push([[210],{95065:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var i=function(){var e=this,t=e._self._c;return t("div",[t("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("备选项")]),t("el-divider"),t("EventMetric",{model:{value:e.metric0,callback:function(t){e.metric0=t},expression:"metric0"}}),t("el-divider"),t("el-select",{staticClass:"mr10",attrs:{size:"mini","default-first-option":!0,placeholder:e.$t("message.请选择")},on:{change:e.on_change_event},model:{value:e.selectedEvent,callback:function(t){e.selectedEvent=t},expression:"selectedEvent"}},e._l(e.eventGroupOp,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e.loadingOk&&e.checked?t("EventMetric",{attrs:{eventProps:e.eventProps2},on:{change:e.on_change_metric},model:{value:e.metric0,callback:function(t){e.metric0=t},expression:"metric0"}}):e._e()],1)},c=[],l=n(794),o=n(62147),r=n(97634),a=n(63822),s={components:{EventMetric:r.Z},data(){return{checked:!0,selectedEvent:"buy",eventGroupOp:[],eventProps2:[],metric0:"",loadingOk:!1}},created(){this.loadEventGroup("LeaveGuild","EvtProp.guild_name.count_distinct_prop")},methods:{on_change_metric(e,t,n,i){console.log("on_change_metric",e,t,n,i)},on_change_event(e){console.log("on_change_event",e),this.loadEventProp(e,"")},loadEventGroup(e,t){var n=this.getCurrAppId();o.Z.api.LoadPlainEventList(n).then((n=>{if(console.log("LoadPlainEventList",n),this.eventGroupOp=n,n)for(var i=0;i<n.length;i++)if(n[i].value==e)return this.selectedEvent=e,void this.loadEventProp(e,t);this.selectedEvent=n[0].value,this.loadEventProp(this.selectedEvent,"")})).catch((e=>{l.Z.utils.Err(this,e)}))},loadEventProp(e,t){var n=this.getCurrAppId();o.Z.api.LoadEventPropParamPromise({app_id:n,include_obj_schema:!0,include_dim_schema:!0,include_obj_dim_schema:!0,limit_event_name:[e]}).then((e=>{this.eventProps2=e,this.metric0=t,this.loadingOk=!0}))}},computed:{...(0,a.Se)({getCurrAppId:"system/getCurrAppId"})}},d=s,v=n(1001),u=(0,v.Z)(d,i,c,!1,null,null,null),p=u.exports}}]);