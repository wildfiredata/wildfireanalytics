"use strict";(self["webpackChunkwildfire"]=self["webpackChunkwildfire"]||[]).push([[669],{78373:function(t,e,s){s.d(e,{Z:function(){return h}});var a=function(){var t=this,e=t._self._c;return e("div",{ref:"me",attrs:{id:"crf_dialogpwd"}},[e("div",{attrs:{readonly:""},on:{click:function(e){t.newDialog.show=!0}}},[t._t("default")],2),e("el-dialog",{attrs:{visible:t.newDialog.show,width:"450px","show-close":!1,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.newDialog,"show",e)}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("message.修改密码")))]),e("div",{staticClass:"dialogBody"},[e("el-form",{ref:"formData",attrs:{"label-width":"140px",model:t.formData,rules:t.rules}},[t.ChangeMyPwd?e("el-form-item",{attrs:{label:t.$t("message.原密码"),prop:"pwd1"}},[e("el-input",{staticClass:"w200",attrs:{type:"password","show-password":"",autocomplete:"new-password",maxlength:"18",placeholder:t.$t("message.请输入原密码"),size:"medium"},model:{value:t.formData.pwd1,callback:function(e){t.$set(t.formData,"pwd1",e)},expression:"formData.pwd1"}})],1):t._e(),e("el-form-item",{attrs:{label:t.$t("message.新密码"),prop:"pwd2"}},[e("el-input",{staticClass:"w200",attrs:{type:"password","show-password":"",autocomplete:"new-password",maxlength:"18",placeholder:t.$t("message.请输入新密码"),size:"medium"},model:{value:t.formData.pwd2,callback:function(e){t.$set(t.formData,"pwd2",e)},expression:"formData.pwd2"}})],1),e("el-form-item",{attrs:{label:t.$t("message.确认密码"),prop:"pwd3"}},[e("el-input",{staticClass:"w200",attrs:{type:"password","show-password":"",autocomplete:"new-password",maxlength:"18",placeholder:t.$t("message.请输入确认密码"),size:"medium"},model:{value:t.formData.pwd3,callback:function(e){t.$set(t.formData,"pwd3",e)},expression:"formData.pwd3"}})],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"dialogfooterButton",attrs:{size:"mini"},on:{click:function(e){t.newDialog.show=!1}}},[t._v(t._s(t.$t("message.取 消")))]),e("el-button",{staticClass:"dialogfooterButton",attrs:{size:"mini"},on:{click:function(e){return t.confirm("formData")}}},[t._v(t._s(t.$t("message.确 定")))])],1)])],1)},r=[],i=s(794),o=s(32900),l=s(63822),n={props:{},data(){var t=(t,e,s)=>{this.ChangeMyPwd?s():""===e?s(new Error(this.$t("message.请输入密码"))):((this.formData.pwd1.length<3||this.formData.pwd1.length>18)&&s(new Error(this.$t("message.长度在 3 到 18 个字符"))),s())},e=(t,e,s)=>{""===e?s(new Error(this.$t("message.请输入密码"))):((this.formData.pwd2.length<3||this.formData.pwd2.length>18)&&s(new Error(this.$t("message.长度在 3 到 18 个字符"))),s())},s=(t,e,s)=>{""===e?s(new Error(this.$t("message.请再次输入密码"))):e!==this.formData.pwd2?s(new Error(this.$t("message.两次输入密码不一致!"))):s()};return{otherUserId:0,newDialog:{show:!1},formData:{pwd1:"",pwd2:"",pwd3:""},rules:{pwd1:[{required:!0,message:this.$t("message.请输入密码"),trigger:"blur"},{validator:t,trigger:"blur"}],pwd2:[{required:!0,message:this.$t("message.请输入密码"),trigger:"blur"},{validator:e,trigger:"blur"}],pwd3:[{required:!0,message:this.$t("message.请输入密码"),trigger:"blur"},{validator:s,trigger:"blur"}]}}},created(){},mounted(){},beforeDestroy(){},methods:{showDialog(t){this.otherUserId=t,this.formData.pwd1="",this.formData.pwd2="",this.formData.pwd3="",this.newDialog.show=!0},changepwd(){},confirm(t){var e=!0;this.$refs[t].validate((t=>{if(!t)return e=!1,!1})),e&&(this.ChangeMyPwd?o.Z["new"]().chpwd({old_password:this.formData.pwd1,password:this.formData.pwd2}).then(function(t){i.Z.utils.Ignore(t),this.$emit("confirm"),this.newDialog.show=!1}.bind(this)).catch(function(t){i.Z.utils.Err(this,t)}.bind(this)):o.Z["new"]().Setpwd({id:this.otherUserId,password:this.formData.pwd2}).then(function(t){i.Z.utils.Ignore(t),this.$emit("confirm"),this.newDialog.show=!1}.bind(this)).catch(function(t){i.Z.utils.Err(this,t)}.bind(this)))}},computed:{...(0,l.Se)({getCurrAppId:"system/getCurrAppId"}),ChangeMyPwd:function(){return!(this.otherUserId>0)}}},m=n,d=s(1001),u=(0,d.Z)(m,a,r,!1,null,"39d02dc0",null),h=u.exports},30669:function(t,e,s){s.r(e),s.d(e,{default:function(){return S}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"root"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("message.成员管理")))]),[e("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:t.$t("message.成员"),name:"first"}},[e("div",{staticClass:"toolbar"},[e("el-button",{staticClass:"toolbaritem",attrs:{size:"small"},on:{click:t.addNewEntity}},[t._v(t._s(t.$t("message.添加成员账号")))])],1),e("b-table",{ref:"tableMember",attrs:{data:t.tableData,hoverable:""}},[e("b-table-column",{attrs:{label:t.$t("message.显示名称"),width:"300",sortable:"",field:"label"},scopedSlots:t._u([{key:"default",fn:function(s){return[[e("span",{attrs:{size:t.cellFontSize}},[t._v(t._s(s.row.label))])]]}}])}),e("b-table-column",{attrs:{label:t.$t("message.账号"),width:"300",sortable:"",field:"name"},scopedSlots:t._u([{key:"default",fn:function(s){return[[e("span",{attrs:{size:t.cellFontSize}},[t._v(t._s(s.row.name))])]]}}])}),e("b-table-column",{attrs:{label:t.$t("message.角色"),width:"300",sortable:"",field:"role_name"},scopedSlots:t._u([{key:"default",fn:function(s){return[[e("span",{attrs:{size:t.cellFontSize}},[t._v(t._s(s.row.role_name))])]]}}])}),e("b-table-column",{attrs:{label:t.$t("message.成员组"),width:"300",sortable:"",field:"group_name_list"},scopedSlots:t._u([{key:"default",fn:function(s){return[[e("span",{attrs:{size:t.cellFontSize}},[t._v(t._s(s.row.group_name_list))])]]}}])}),e("b-table-column",{attrs:{label:t.$t("message.操作"),width:"300"},scopedSlots:t._u([{key:"default",fn:function(s){return[s.row.is_system?t._e():[s.row.is_super?t._e():e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.editRecordMember(s.row)}}},[t._v(t._s(t.$t("message.编辑")))]),s.row.is_super?t._e():e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.setRecordPwd(s.row.id)}}},[t._v(t._s(t.$t("message.设置密码")))]),s.row.is_super?t._e():e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteRecordMember(s.row)}}},[t._v(t._s(t.$t("message.删除")))])]]}}])})],1)],1),e("el-tab-pane",{attrs:{label:t.$t("message.成员组"),name:"second"}},[e("div",{staticClass:"toolbar"},[e("el-button",{staticClass:"toolbaritem",attrs:{size:"small"},on:{click:t.addNewGroup}},[t._v(t._s(t.$t("message.添加成员组")))])],1),e("b-table",{ref:"tableGroup",attrs:{data:t.groupTableData,hoverable:""}},[e("b-table-column",{attrs:{label:t.$t("message.成员组名称"),width:"300",sortable:"",field:"name"},scopedSlots:t._u([{key:"default",fn:function(s){return[[e("span",{attrs:{size:t.cellFontSize}},[t._v(t._s(s.row.name))])]]}}])}),e("b-table-column",{attrs:{label:t.$t("message.操作"),width:"300"},scopedSlots:t._u([{key:"default",fn:function(s){return[[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.editRecordGroup(s.row)}}},[t._v(t._s(t.$t("message.编辑")))]),e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteRecordGroup(s.row)}}},[t._v(t._s(t.$t("message.删除")))])]]}}])})],1)],1)],1)],e("DialogMemberEdit",{ref:"dialogmemberedit",on:{confirm:t.on_dialogmemberedit}}),e("DialogPwd",{ref:"dialogpwd",on:{confirm:t.on_dialogpwd}}),e("DialogNameEdit",{ref:"dialognameedit",on:{confirm:t.on_DialogGroupNameEdit}})],2)},r=[],i=(s(57658),s(794)),o=s(32900),l=function(){var t=this,e=t._self._c;return e("div",{ref:"me",attrs:{id:"crf_memberedit"}},[e("div",{attrs:{readonly:""},on:{click:function(e){t.newDialog.show=!0}}},[t._t("default")],2),e("el-dialog",{attrs:{visible:t.newDialog.show,width:"450px","show-close":!1,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.newDialog,"show",e)}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"dialogBody"},[e("el-form",{ref:"formData",attrs:{"label-width":"140px",model:t.formData,rules:t.rules}},[e("el-form-item",{attrs:{label:t.$t("message.显示名字")+":",prop:"label"}},[e("el-input",{staticClass:"width200",attrs:{size:"small",placeholder:t.$t("message.请输入内容")},model:{value:t.formData.label,callback:function(e){t.$set(t.formData,"label",e)},expression:"formData.label"}})],1),e("el-form-item",{attrs:{label:t.$t("message.账号")+":",prop:"name"}},[e("el-input",{staticClass:"width200",attrs:{size:"small",placeholder:t.$t("message.请输入内容")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t.IsNewMember?e("el-form-item",{attrs:{label:t.$t("message.密码")+":",prop:"pwd1"}},[e("el-input",{staticClass:"width200",attrs:{size:"small",autocomplete:"new-password","show-password":"",placeholder:t.$t("message.请输入内容")},model:{value:t.formData.pwd1,callback:function(e){t.$set(t.formData,"pwd1",e)},expression:"formData.pwd1"}})],1):t._e(),t.IsNewMember?e("el-form-item",{attrs:{label:t.$t("message.确认密码")+":",prop:"pwd2"}},[e("el-input",{staticClass:"width200",attrs:{size:"small",autocomplete:"new-password","show-password":"",placeholder:t.$t("message.请输入内容")},model:{value:t.formData.pwd2,callback:function(e){t.$set(t.formData,"pwd2",e)},expression:"formData.pwd2"}})],1):t._e(),e("el-form-item",{attrs:{label:t.$t("message.角色")+":",prop:"role"}},[e("el-select",{staticClass:"width250 mr5",attrs:{multiple:"",size:"small",placeholder:t.$t("message.请选择")},model:{value:t.formData.role,callback:function(e){t.$set(t.formData,"role",e)},expression:"formData.role"}},t._l(t.RoleList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),e("el-form-item",{attrs:{label:t.$t("message.成员组")+":",prop:"membergroup"}},[e("el-select",{staticClass:"width250 mr5",attrs:{multiple:"",size:"small",placeholder:t.$t("message.请选择")},model:{value:t.formData.group_list,callback:function(e){t.$set(t.formData,"group_list",e)},expression:"formData.group_list"}},t._l(t.MemberGroupList,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"dialogfooterButton",attrs:{size:"mini"},on:{click:function(e){t.newDialog.show=!1}}},[t._v(t._s(t.$t("message.取消")))]),e("el-button",{staticClass:"dialogfooterButton",attrs:{size:"mini"},on:{click:function(e){return t.submitForm("formData")}}},[t._v(t._s(t.$t("message.确 定")))])],1)])],1)},n=[],m=s(63822),d={props:{},data(){var t=(t,e,s)=>{this.IsNewMember?""===e?s(new Error(this.$t("message.请输入密码"))):((this.formData.pwd1.length<3||this.formData.pwd1.length>18)&&s(new Error(this.$t("message.长度在 3 到 18 个字符"))),s()):s()},e=(t,e,s)=>{this.IsNewMember?""===e?s(new Error(this.$t("message.请输入密码"))):this.formData.pwd2.length<3||this.formData.pwd2.length>18?s(new Error(this.$t("message.长度在 3 到 18 个字符"))):e!==this.formData.pwd1?s(new Error(this.$t("message.两次输入密码不一致!"))):s():s()};return{id:0,RoleList:[],MemberGroupList:[],MemberGroupMap:new Map,newDialog:{show:!1},title:"",formData:{name:"",label:"",pwd1:"",pwd2:"",role:[],group_list:[]},rules:{label:[{required:!0,message:this.$t("message.请输入名称"),trigger:"blur"},{min:2,max:20,message:this.$t("message.长度在 2 到 20 个字符"),trigger:"blur"}],name:[{required:!0,message:this.$t("message.请输入账号名称"),trigger:"blur"},{min:2,max:20,message:this.$t("message.长度在 2 到 20 个字符"),trigger:"blur"}],pwd1:[{required:!0,message:this.$t("message.请输入密码"),trigger:"blur"},{validator:t,trigger:"blur"}],pwd2:[{required:!0,message:this.$t("message.请输入密码"),trigger:"blur"},{validator:e,trigger:"blur"}],role:[{type:"array",required:!0,message:this.$t("message.请至少选择一个角色"),trigger:"change"}]}}},created(){},mounted(){},beforeDestroy(){},methods:{showDialog(t){this.loadMemberGroupList().then((()=>{this.loadRoleList().then((()=>{t&&t.id>0?(this.id=t.id,this.title=this.$t("message.编辑角色x",{name:t.name}),this.formData.name=t.name,this.formData.label=t.label,this.formData.role=i.Z.utils.ParseNumberListSafe(t.role.split(",")),t.group_list&&t.group_list.length>0?this.formData.group_list=t.group_list.filter((t=>void 0!==this.MemberGroupMap.get(t))):this.formData.group_list=[]):(this.title=this.$t("message.新建角色"),this.id=0,this.formData.name="",this.formData.label="",this.formData.pwd1="",this.formData.pwd2="",this.formData.role=[],this.formData.group_list=[]),this.newDialog.show=!0}))})).catch(function(t){i.Z.utils.Err(this,t)}.bind(this))},loadRoleList(){return o.Z["new"]().RoleList({}).then(function(t){i.Z.utils.Ignore(t);var e=[];t.data.forEach((t=>{t.allow_manage!=i.Z.def.ManageRole.ManageRoleSuper&&e.push(t)})),this.RoleList=e}.bind(this))},loadMemberGroupList(){return this.MemberGroupMap=new Map,o.Z["new"]().MemberGroupList({}).then(function(t){i.Z.utils.Ignore(t),this.MemberGroupList=t.data,this.MemberGroupList.forEach((t=>{this.MemberGroupMap.set(t.id,t)}))}.bind(this))},submitForm(t){this.$refs[t].validate((t=>{if(!t)return console.log("error submit!!"),!1;this.id>0?o.Z["new"]().MemberUpdate({id:this.id,name:this.formData.name,email:"",label:this.formData.label,role:i.Z.utils.ParseStrListSafe(this.formData.role).join(","),group_list:i.Z.utils.ParseNumberListSafe(this.formData.group_list),password:this.formData.pwd1}).then(function(t){i.Z.utils.Ignore(t),this.$emit("confirm",this.$t("message.更新成员成功")),this.newDialog.show=!1}.bind(this)).catch(function(t){i.Z.utils.Err(this,t)}.bind(this)):o.Z["new"]().MemberAdd({name:this.formData.name,email:"",label:this.formData.label,role:i.Z.utils.ParseStrListSafe(this.formData.role).join(","),group_list:i.Z.utils.ParseNumberListSafe(this.formData.group_list),password:this.formData.pwd1}).then(function(t){i.Z.utils.Ignore(t),this.$emit("confirm",this.$t("message.创建成员成功")),this.newDialog.show=!1}.bind(this)).catch(function(t){i.Z.utils.Err(this,t)}.bind(this))}))}},computed:{...(0,m.Se)({getCurrAppId:"system/getCurrAppId"}),IsNewMember:function(){return 0==this.id}}},u=d,h=s(1001),p=(0,h.Z)(u,l,n,!1,null,"0afb6f56",null),c=p.exports,f=s(78373),g=function(){var t=this,e=t._self._c;return e("div",{ref:"me",attrs:{id:"crf_dialognameedit"}},[e("div",{attrs:{readonly:""},on:{click:function(e){t.newDialog.show=!0}}},[t._t("default")],2),e("el-dialog",{attrs:{visible:t.newDialog.show,width:"450px","show-close":!1,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.newDialog,"show",e)}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.formData.title))]),e("div",{staticClass:"dialogBody"},[e("el-form",{ref:"formData",attrs:{"label-width":"100px",model:t.formData,rules:t.rules}},[e("el-form-item",{attrs:{label:t.formData.label,prop:"newname"}},[e("el-input",{staticClass:"w250",attrs:{autocomplete:"off",maxlength:"18",size:"medium"},model:{value:t.formData.newname,callback:function(e){t.$set(t.formData,"newname",e)},expression:"formData.newname"}})],1)],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"dialogfooterButton",attrs:{size:"mini"},on:{click:function(e){t.newDialog.show=!1}}},[t._v(t._s(t.$t("message.取 消")))]),e("el-button",{staticClass:"dialogfooterButton",attrs:{size:"mini"},on:{click:function(e){return t.confirm("formData")}}},[t._v(t._s(t.$t("message.确 定")))])],1)])],1)},w=[],b={props:{},data(){var t=(t,e,s)=>{""===e?s(new Error(this.$t("message.名称"))):((this.formData.newname.length<3||this.formData.newname.length>18)&&s(new Error(this.$t("message.长度在 3 到 18 个字符"))),s())};return{uid:0,newDialog:{show:!1},formData:{newname:"",label:"sdfad",title:""},rules:{newname:[{required:!0,message:this.$t("message.请输入名称"),trigger:"blur"},{validator:t,trigger:"blur"}]}}},created(){},mounted(){},beforeDestroy(){},methods:{showDialog(t,e,s,a){this.uid=i.Z.utils.ParseNumberSafe(t),this.formData.newname=i.Z.utils.ParseStrSafe(e),this.formData.title=i.Z.utils.ParseStrSafe(s),this.formData.label=i.Z.utils.ParseStrSafe(a),""==this.formData.label&&(this.formData.label=this.$t("message.名称")),this.newDialog.show=!0},confirm(t){var e=!0;this.$refs[t].validate((t=>{if(!t)return e=!1,!1})),e&&(this.newDialog.show=!1,this.$emit("confirm",this.formData.newname,this.uid))}},computed:{...(0,m.Se)({getCurrAppId:"system/getCurrAppId"})}},D=b,_=(0,h.Z)(D,g,w,!1,null,"9330a8a6",null),$=_.exports,v={components:{DialogMemberEdit:c,DialogPwd:f.Z,DialogNameEdit:$},data(){return{activeName:"first",editing_field:{},editingData:{Name:"",Account:""},tableData:[],groupTableData:[],zones:[],RoleList:[],RoleMap:new Map,GroupMap:new Map,eventPropList:[],userPropList:[],editingRow:{},cellFontSize:"mini"}},mounted(){this.initialize()},methods:{initialize(){this.loadRoleList().then((()=>this.loadMemberGroupList())).then((()=>{this.loadMemberList()})).catch(function(t){i.Z.utils.Err(this,t)}.bind(this))},loadMemberList(){this.tableData=[],o.Z["new"]().MemberList({}).then(function(t){i.Z.utils.Ignore(t),t.data.forEach((t=>{var e={id:t.id,label:t.label,name:t.name,role:t.role_list,role_name:t.role_name,group_list:t.group_list,group_name_list:"",is_super:!1};e.role_name=this.getRoleName(t.role_list),e.is_super=this.hasSuperRole(t.role_list),e.group_name_list=this.getGroupName(t.group_list),this.tableData.push(e)}))}.bind(this)).catch(function(t){i.Z.utils.Err(this,t)}.bind(this))},loadMemberGroupList(){return this.GroupMap=new Map,o.Z["new"]().MemberGroupList({}).then(function(t){this.groupTableData=t.data,this.groupTableData.forEach((t=>{this.GroupMap.set(t.id,t)}))}.bind(this))},hasSuperRole(t){if(t&&t.length>0)for(var e=i.Z.utils.ParseNumberListSafe(t.split(",")),s=0;s<e.length;s++){var a=this.RoleMap.get(e[s]);if(void 0!==a&&a.allow_manage==i.Z.def.ManageRole.ManageRoleSuper)return!0}return!1},getGroupName(t){var e="";if(t&&t.length>0)for(var s=i.Z.utils.ParseNumberListSafe(t),a=0;a<s.length;a++){var r=this.GroupMap.get(s[a]);void 0!==r&&(e=""==e?r.name:e+","+r.name)}return e},getRoleName(t){var e="";if(t&&t.length>0)for(var s=i.Z.utils.ParseNumberListSafe(t.split(",")),a=0;a<s.length;a++){var r=this.RoleMap.get(s[a]);void 0!==r&&(e=""==e?r.name:e+","+r.name)}return e},deleteRecordMember(t){this.$confirm(this.$t("message.此操作将永久删除该项目x是否继续?",{name:t.name}),this.$t("message.信息"),{confirmButtonText:this.$t("message.确定"),cancelButtonText:this.$t("message.取消"),type:"warning"}).then((()=>{o.Z["new"]().MemberDelete({id:t.id}).then(function(t){i.Z.utils.Ignore(t),i.Z.utils.Success(this,this.$t("message.删除成功")),this.loadMemberList()}.bind(this)).catch(function(t){i.Z.utils.Success(this,t)}.bind(this))})).catch((()=>{}))},addNewGroup(){this.$refs.dialognameedit.showDialog(0,"",this.$t("message.添加成员组"))},on_DialogGroupNameEdit(t,e){console.log(t,e),0==e?o.Z["new"]().MemberGroupAdd({name:t}).then(function(t){i.Z.utils.Ignore(t),i.Z.utils.Success(this,this.$t("message.添加成员组成功")),this.initialize()}.bind(this)).catch(function(t){i.Z.utils.Err(this,t)}.bind(this)):o.Z["new"]().MemberGroupUpdate({id:e,name:t}).then(function(t){i.Z.utils.Ignore(t),i.Z.utils.Success(this,this.$t("message.更新成员组成功")),this.initialize()}.bind(this)).catch(function(t){i.Z.utils.Err(this,t)}.bind(this))},editRecordGroup(t){this.$refs.dialognameedit.showDialog(t.id,t.name,this.$t("message.编辑名称x",{name:t.name}))},deleteRecordGroup(t){this.$confirm(this.$t("message.此操作将永久删除该项目x是否继续?",{name:t.name}),this.$t("message.信息"),{confirmButtonText:this.$t("message.确定"),cancelButtonText:this.$t("message.取消"),type:"warning"}).then((()=>{o.Z["new"]().MemberGroupDelete({id:t.id}).then(function(t){i.Z.utils.Ignore(t),i.Z.utils.Success(this,this.$t("message.删除成功")),this.initialize()}.bind(this)).catch(function(t){i.Z.utils.Err(this,t)}.bind(this))})).catch((()=>{}))},setRecordPwd(t){this.$refs.dialogpwd.showDialog(t)},on_dialogpwd(){i.Z.utils.Success(this,this.$t("message.修改密码成功"))},addNewEntity(){this.$refs.dialogmemberedit.showDialog({})},editRecordMember(t){this.$refs.dialogmemberedit.showDialog(t)},on_dialogmemberedit(t){i.Z.utils.Success(this,t),this.loadMemberList()},loadRoleList(){return this.RoleMap=new Map,o.Z["new"]().RoleList({}).then(function(t){i.Z.utils.Ignore(t),this.RoleList=t.data,this.RoleList.forEach((t=>{this.RoleMap.set(t.id,t)}))}.bind(this))}},computed:{...(0,m.Se)({getCurrAppId:"system/getCurrAppId"})}},Z=v,M=(0,h.Z)(Z,a,r,!1,null,"e6efa298",null),S=M.exports},32900:function(t,e,s){s.d(e,{Z:function(){return r}});var a=s(91803);class r{static new(){return new r}login(t){return(0,a.Z)({url:"/api/portal/login",method:"post",data:t})}chpwd(t){return(0,a.Z)({url:"/api/portal/user/chpwd",method:"post",data:t})}Setpwd(t){return(0,a.Z)({url:"/api/portal/user/setpwd",method:"post",data:t})}MemberList(t){return(0,a.Z)({url:"/api/portal/user/list",method:"post",data:t})}MemberAdd(t){return(0,a.Z)({url:"/api/portal/user/add",method:"post",data:t})}MemberDelete(t){return(0,a.Z)({url:"/api/portal/user/delete",method:"post",data:t})}MemberUpdate(t){return(0,a.Z)({url:"/api/portal/user/update",method:"post",data:t})}MemberGet(t){return(0,a.Z)({url:"/api/portal/user/get",method:"post",data:t})}MemberGroupList(t){return(0,a.Z)({url:"/api/portal/usergroup/list",method:"post",data:t})}MemberGroupAdd(t){return(0,a.Z)({url:"/api/portal/usergroup/add",method:"post",data:t})}MemberGroupUpdate(t){return(0,a.Z)({url:"/api/portal/usergroup/update",method:"post",data:t})}MemberGroupDelete(t){return(0,a.Z)({url:"/api/portal/usergroup/delete",method:"post",data:t})}RoleList(t){return(0,a.Z)({url:"/api/portal/role/list",method:"post",data:t})}RoleAdd(t){return(0,a.Z)({url:"/api/portal/role/add",method:"post",data:t})}RoleUpdate(t){return(0,a.Z)({url:"/api/portal/role/update",method:"post",data:t})}RoleDelete(t){return(0,a.Z)({url:"/api/portal/role/delete",method:"post",data:t})}}}}]);