"use strict";(self["webpackChunkwildfire"]=self["webpackChunkwildfire"]||[]).push([[5674],{75674:function(A,t,e){e.r(t),e.d(t,{default:function(){return g}});var a=function(){var A=this,t=A._self._c;return t("div",{staticClass:"body"},[t("img",{staticClass:"logo",attrs:{src:e(15080),alt:""},on:{click:A.opengalaxyokcn}}),t("img",{staticClass:"slogan",attrs:{src:e(30435),alt:""}}),t("div",{staticClass:"loginerea"},[t("span",{staticClass:"welcome_label"},[A._v(A._s(A.$t("message.欢迎来到{name}数据")))]),t("div",{staticStyle:{"margin-top":"15px"}},[t("el-input",{staticClass:"input-with-select",attrs:{placeholder:A.$t("message.请输入用户名"),maxlength:"11"},on:{input:A.phone_change},model:{value:A.phone,callback:function(t){A.phone=t},expression:"phone"}},[t("template",{slot:"prepend"},[A._v(A._s(A.$t("message.用户名")))])],2)],1),t("div",{staticClass:"input_vericode"},[t("el-input",{staticClass:"input-with-code",attrs:{placeholder:A.$t("message.请输入密码"),"show-password":""},model:{value:A.password,callback:function(t){A.password=t},expression:"password"}},[t("template",{slot:"prepend"},[A._v(A._s(A.$t("message.密码")))])],2)],1),t("b-checkbox",{staticClass:"agreement",attrs:{size:"is-small"},model:{value:A.agree,callback:function(t){A.agree=t},expression:"agree"}},[t("a",{attrs:{href:"",target:"_blank"}},[A._v(A._s(A.$t("message.我已阅读并同意《数据隐私政策》")))])]),t("div",{staticClass:"confirm_button"},[t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",round:""},on:{click:A.login}},[A._v(A._s(A.$t("message.登录")))])],1)],1)])},s=[],r=(e(57658),e(94029)),o=e(32900),n=e(78755),i=e(794),p=e(63822),l=e(90948),u={components:{},data(){return{utcoffset:480,select:"+86",phone:"super",agree:!0,password:""}},mounted(){console.log(window.addrConfig.BASE_URL)},methods:{...(0,p.nv)({setApp:"system/setApp"}),on_change:function(A,t,e,a,s,r,o,n,i,p){console.log("on_change",A,t,e,a,s,r,o,n,i,p)},phone_change:function(A){console.log("phone_change",A[A.length-1],A,this.phone)},login(){i.Z.utils.IsEmptyStr(this.password)?i.Z.utils.Err(this,this.$t("message.密码不能为空")):i.Z.utils.IsEmptyStr(this.phone)?i.Z.utils.Err(this,this.$t("message.用户名不能为空")):o.Z["new"]().login({username:this.phone,phone:this.phone,password:this.password}).then(function(A){(0,n.o4)(A.data.token);var t=i.Z.utils.DeepClone(i.Z.def.FunPoint.getFunPointTree()),e=i.Z.def.FunPoint.funTreeToMap(t);if(e.forEach((A=>{A.check=!1})),A.data.full_fun_points)e.forEach((A=>{A.check=!0}));else{var a=i.Z.def.FunPoint.funTreeToMap(A.data.fun_points);a.forEach((A=>{var t=e.get(A.id);void 0!==t&&(t.check=!!A.check)}))}this.$store.dispatch("system/setGrantMap",e),this.$store.dispatch("system/setManageRole",A.data.manage_role),this.$store.dispatch("system/setLoginName",this.phone),this.getAccountInfo()}.bind(this)).catch(function(A){String(A).indexOf("50104")>0?i.Z.utils.Err(this,this.$t("message.登录失败：账号或密码错误！")):i.Z.utils.Err(this,A)}.bind(this))},getAccountInfo(){o.Z["new"]().MemberGet().then(function(A){i.Z.utils.Ignore(A),this.$store.dispatch("system/setAccount",A.data),this.chooseDefaultApp()}.bind(this)).catch(function(A){i.Z.utils.Err(this,A)}.bind(this))},opengalaxyokcn(){window.location.href=(0,l.IX)()},chooseDefaultApp(){r.Z["new"]().list().then(function(A){var t;if(A.data&&A.data.length>0){t=A.data[0];for(var e=0;e<A.data.length;e++)if(this.getCurrAppId()==A.data[e].app_id){t=A.data[e];break}this.setApp(t)}this.$router.push({path:"/statistic/statisticpage",query:{plan:"private"}})}.bind(this)).catch(function(A){console.log(A)}.bind(this))}},computed:{...(0,p.Se)({getCurrAppId:"system/getCurrAppId",getGrantMap:"system/getGrantMap"})}},d=u,c=e(1001),h=(0,c.Z)(d,a,s,!1,null,"f51cef46",null),g=h.exports},32900:function(A,t,e){e.d(t,{Z:function(){return s}});var a=e(91803);class s{static new(){return new s}login(A){return(0,a.Z)({url:"/api/portal/login",method:"post",data:A})}chpwd(A){return(0,a.Z)({url:"/api/portal/user/chpwd",method:"post",data:A})}Setpwd(A){return(0,a.Z)({url:"/api/portal/user/setpwd",method:"post",data:A})}MemberList(A){return(0,a.Z)({url:"/api/portal/user/list",method:"post",data:A})}MemberAdd(A){return(0,a.Z)({url:"/api/portal/user/add",method:"post",data:A})}MemberDelete(A){return(0,a.Z)({url:"/api/portal/user/delete",method:"post",data:A})}MemberUpdate(A){return(0,a.Z)({url:"/api/portal/user/update",method:"post",data:A})}MemberGet(A){return(0,a.Z)({url:"/api/portal/user/get",method:"post",data:A})}MemberGroupList(A){return(0,a.Z)({url:"/api/portal/usergroup/list",method:"post",data:A})}MemberGroupAdd(A){return(0,a.Z)({url:"/api/portal/usergroup/add",method:"post",data:A})}MemberGroupUpdate(A){return(0,a.Z)({url:"/api/portal/usergroup/update",method:"post",data:A})}MemberGroupDelete(A){return(0,a.Z)({url:"/api/portal/usergroup/delete",method:"post",data:A})}RoleList(A){return(0,a.Z)({url:"/api/portal/role/list",method:"post",data:A})}RoleAdd(A){return(0,a.Z)({url:"/api/portal/role/add",method:"post",data:A})}RoleUpdate(A){return(0,a.Z)({url:"/api/portal/role/update",method:"post",data:A})}RoleDelete(A){return(0,a.Z)({url:"/api/portal/role/delete",method:"post",data:A})}}},30435:function(A){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAK8CAYAAAB8y5WxAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAWJQAAFiUBSVIk8AAACrFJREFUeJztwTEBAAAAwqD1T20LL6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgKcBvrIAASI5bAMAAAAASUVORK5CYII="}}]);