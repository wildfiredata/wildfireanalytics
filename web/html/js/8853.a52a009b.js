"use strict";(self["webpackChunkwildfire"]=self["webpackChunkwildfire"]||[]).push([[8853],{1560:function(e,t,i){i.d(t,{Z:function(){return p}});var n=function(){var e=this,t=e._self._c;return t("div",{ref:"me",attrs:{id:"meClass"}},[t("div",[e.modelValueRef.icon&&e.modelValueRef.icon.length>0?t("b-icon",{staticClass:"mr10",attrs:{icon:e.icon,size:"is-small"}}):e._e(),t("span",[t("QuickDateTimeRangePicker",{staticClass:"mlr5",on:{change:e.on_change_time},model:{value:e.modelValueRef.time_range,callback:function(t){e.$set(e.modelValueRef,"time_range",t)},expression:"modelValueRef.time_range"}}),e._v(e._s(e.$t("message.依次做过"))+" ")],1)],1),e._l(e.modelValueRef.children,(function(i,n){return t("div",{key:i.id},[t("div",{staticClass:"flexrowitemstart"},[t("EventCondition",{staticClass:"mt8",attrs:{keepLast:!1,visibledelete:e.modelValueRef.children.length>1,eventList:e.eventList},on:{change:e.on_change_condition,delete_click:function(t){return e.delete_condition(i.id)}},model:{value:e.modelValueRef.children[n],callback:function(t){e.$set(e.modelValueRef.children,n,t)},expression:"modelValueRef.children[index]"}})],1)])})),t("div",[t("span",{staticClass:"span_button",on:{click:e.add_condition}},[t("b-icon",{attrs:{icon:"plus-circle",size:"is-small"}}),e._v(e._s(e.$t("message.添加事件")))],1)])],2)},l=[],o=i(9808),a=i(78333),d=i(794),s=i(63822),c={components:{EventCondition:a.Z,QuickDateTimeRangePicker:o.Z},model:{prop:"modelvalue",event:"modelvaluechange"},props:{keepLast:{type:Boolean,default:!0},favorites:{type:String,default:"aa"},modelvalue:{type:Object,default:function(){return{icon:"",time_range:{},children:[{id:0,event:"",combo:{logicop:d.Z.def.LogicOp.LogicOpAnd,children:[]}}]}}},eventList:{type:Array,default:()=>[],required:!0}},data(){return{initok:!1,loadingPropsOk:!1,modelValueRef:{}}},created(){this.init()},mounted(){},watch:{},methods:{init(){this.modelValueRef=this.modelvalue},add_condition(){console.log("add_condition"),d.Z.condx.GroupPushBack(this.modelValueRef,{combo:{children:[]}}),console.log("add_condition push",this.modelValueRef),this.confirm()},delete_condition(e){d.Z.condx.GroupRemove(this.modelValueRef,e)},on_change_condition(e){console.log("on_change_condition",e),this.confirm()},on_change_time(e){console.log("on_change_time",e),this.confirm()},confirm(){this.$emit("modelvaluechange",this.modelValueRef),this.$emit("change",this.modelValueRef)}},computed:{...(0,s.Se)({getCurrAppId:"system/getCurrAppId"})}},r=c,u=i(1001),m=(0,u.Z)(r,n,l,!1,null,"1a051d04",null),p=m.exports},927:function(e,t,i){i.r(t),i.d(t,{default:function(){return p}});var n=function(){var e=this,t=e._self._c;return t("div",[e.loadingOk?t("EventConditionList",{attrs:{eventList:e.EventList},on:{change:e.on_change_list},model:{value:e.modValue,callback:function(t){e.modValue=t},expression:"modValue"}}):e._e(),t("el-divider"),t("el-divider")],1)},l=[],o=i(794),a=i(62147),d=i(63822),s=i(1560),c={components:{EventConditionList:s.Z},data(){return{loadingOk:!1,EventList:[],modValue:{icon:"",time_range:{},children:[]},mod2:{icon:"",time_range:{zone:8,expr:"今日",start_unit:"",end_unit:"",start_offset:0,end_offset:0,start_dynamic:!1,end_dynamic:!1,quick_range:"today",time_pick:!1,start_time:"2023-07-06 00:00:00",end_time:"2023-07-06 23:59:59"},events:[{id:1,event:"LeaveGuild",combo:{logicop:"and",children:[{record:{elPos:0,params:["663"],pickersubject:{id:0,value:"$distinct_id",label:"访客ID",label2:"预定义",type:"string",type_prop_name:"distinct_id",hide:!1,data_type_label:"文本",prop_type:"predefine",label3:"文本",is_favorite:!1},selectedOp:"=",warnMessage:""},id:1,level:1},{record:{elPos:0,params:[5],pickersubject:{id:1,value:"listid",label:"listid",label2:"自定义",type:"list_number",type_prop_name:"lf_listid",hide:!1,data_type_label:"数值列表",prop_type:"custom",label3:"数值列表",is_favorite:!1},selectedOp:"listpos",elSelectedOp:"<",warnMessage:""},id:2,level:1},{record:{elPos:0,params:["484884.3"],pickersubject:{id:2,value:"children",label:"children",label2:"自定义",type:"list_string",type_prop_name:"ls_children",hide:!1,data_type_label:"文本列表",prop_type:"custom",dim_name:"dim_my0223",label3:"文本列表",is_favorite:!1},selectedOp:"listnothave",warnMessage:""},id:3,level:1}]}}]}}},created(){this.loadEventGroup()},methods:{loadEventGroup(){var e=this.getCurrAppId();a.Z.api.LoadPlainEventList(e).then((e=>{this.EventList=e,this.loadingOk=!0})).catch((e=>{o.Z.utils.Err(this,e)}))},on_change_list(e){console.log("on_change_list",e)},add_list(){}},computed:{...(0,d.Se)({getCurrAppId:"system/getCurrAppId"})}},r=c,u=i(1001),m=(0,u.Z)(r,n,l,!1,null,null,null),p=m.exports}}]);