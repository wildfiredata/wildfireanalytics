"use strict";(self["webpackChunkwildfire"]=self["webpackChunkwildfire"]||[]).push([[7461],{25422:function(e,t,s){s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("div",{ref:"me",attrs:{id:"crf_DateTimePicker"}},[t("el-input",{staticStyle:{position:"fixed",width:"2000px",transform:"translateY(-9999px)","z-index":"300"},attrs:{size:e.fontSize,readonly:""}},[t("span",{ref:"autowidthspan",attrs:{slot:"prefix"},slot:"prefix"},[e._v(e._s(e.autowidthspanText))])]),t("el-input",{class:{inputDefaultClass:!0,activeInput:e.viewshow},attrs:{size:e.fontSize,placeholder:e.$t("message.选择日期"),"suffix-icon":"el-icon-date",readonly:""},on:{focus:e.onValueInput},model:{value:e.valueText,callback:function(t){e.valueText=t},expression:"valueText"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.viewshow,expression:"viewshow"}],staticClass:"pickview"},[t("div",{staticClass:"pad"},[t("div",{staticClass:"rightpad"},[t("div",{staticClass:"pickers"},[t("div",{staticClass:"picker1"},[t("b-datepicker",{staticClass:"picker1View",attrs:{locale:e.locale,"first-day-of-week":1,size:"is-small",inline:""},on:{input:e.picker1_change},model:{value:e.actualZoneDate1,callback:function(t){e.actualZoneDate1=t},expression:"actualZoneDate1"}})],1)])])]),t("div",{staticClass:"footer"},[e.TimePick?t("vue-timepicker",{attrs:{hideClearButton:"",format:"HH:mm:ss","close-on-complete":""},scopedSlots:e._u([{key:"icon",fn:function(){return[t("i",{staticClass:"el-icon-time"})]},proxy:!0}],null,!1,1083033051),model:{value:e.selectTimeHMS1,callback:function(t){e.selectTimeHMS1=t},expression:"selectTimeHMS1"}}):t("div",{staticClass:"placeHeight"}),t("div",{staticClass:"buttons"},[t("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v(e._s(e.$t("message.取消")))]),t("el-button",{attrs:{size:"mini"},on:{click:e.confirm}},[e._v(e._s(e.$t("message.确定")))])],1)],1)])],1)},a=[],l=s(794),n=s(23637);const r=s(36797);var o={name:"DateTimePicker",components:{VueTimepicker:n.Z},model:{prop:"modelvalue",event:"modelvaluechange"},props:{inputPlaceHolder:{type:String,default:"请选择日期"},modelvalue:String,value:String,fontSize:{type:String,default:"mini"},Zone:{type:Number,defualt:480},defaulted:{type:Boolean,default:!0},TimePick:Boolean},data(){return{locale:"",input1:null,actualZoneDate1:null,selectTimeHMS1:"",valueText:"",viewshow:!1,warnings:"wwwwwwwwwwww",timepickergrain:{incrementMinutes:59,incrementHours:1}}},created(){this.locale=this.$i18n.browerlocale,this.initialize()},mounted(){(this.modelvalue&&this.modelvalue.length>12||this.modelvalue&&10===this.modelvalue.length)&&this.confirm(),document.addEventListener("click",this.dc,!0)},beforeDestroy(){document.removeEventListener("click",this.dc,!0)},methods:{initialize(){this.modelvalue&&this.modelvalue.length>=10?(this.modelvalue&&this.modelvalue.length>12?(this.actualZoneDate1=r(this.modelvalue,"YYYY-MM-DD HH:mm:ss").toDate(),this.TimePick&&(this.selectTimeHMS1="00:00:00",this.modelvalue.split(" ").length>1&&(this.selectTimeHMS1=this.modelvalue.split(" ")[1]))):this.modelvalue&&10===this.modelvalue.length&&(this.actualZoneDate1=r(this.modelvalue,"YYYY-MM-DD").toDate(),this.TimePick&&(this.selectTimeHMS1="00:00:00")),this.displayValueText()):this.defaulted?(this.actualZoneDate1=r().toDate(),this.selectTimeHMS1="00:00:00",this.confirm()):this.displayValueText()},dc(e){this.viewshow=this.$el.contains(e.target)},picker1_change:function(){},CurrentPicked(){var e;return null===this.actualZoneDate1?"":(e=this.TimePick?r(this.actualZoneDate1).format("YYYY-MM-DD")+" "+this.selectTimeHMS1:r(this.actualZoneDate1).format("YYYY-MM-DD"),e)},onValueInput(){this.viewshow=!this.viewshow},cancel(){this.viewshow=!1},displayValueText(){var e=this.CurrentPicked();return this.valueText=e.split("|")[0],this.autoWidthAdjust(),e},confirm(){var e=this.displayValueText();console.log("confirm",this.valueText,e),this.$emit("modelvaluechange",this.valueText),this.$emit("change",e),this.viewshow=!1},autoWidthAdjust(e){l.Z.utils.Ignore(e),setTimeout((()=>{if(this.$refs.autowidthspan){var e=this.$refs.autowidthspan.getClientRects(),t=this.$refs.me,s=t.getElementsByClassName("inputDefaultClass")[0];s.style.width=e[0].width+12+25+"px"}}),10)}},watch:{actualZoneDate1(e){this.actualZoneYYYYMMDD1=r(e).format("YYYY-MM-DD")}},computed:{autowidthspanText:function(){return this.valueText&&this.valueText.length>0?this.valueText:void 0!==this.$i18n.messages[this.inputPlaceHolder]?this.$t("message."+this.inputPlaceHolder):this.inputPlaceHolder}}},u=o,p=s(1001),h=(0,p.Z)(u,i,a,!1,null,"0f4bfac9",null),c=h.exports},85004:function(e,t,s){s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("div",{ref:"me",attrs:{id:"crf_DateTimeRangePicker"}},[t("el-input",{staticStyle:{position:"fixed",width:"2000px",transform:"translateY(-99990px)","z-index":"300"},attrs:{size:e.fontSize,readonly:""}},[t("span",{ref:"autowidthspan",attrs:{slot:"prefix"},slot:"prefix"},[e._v(e._s(e.autowidthspanText))])]),t("el-input",{class:{inputDefaultClass:!0,activeInput:e.viewshow},attrs:{size:e.fontSize,placeholder:e.inputPlaceHolder,"suffix-icon":"el-icon-date",readonly:""},on:{focus:e.onValueInput},model:{value:e.valueText,callback:function(t){e.valueText=t},expression:"valueText"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.viewshow,expression:"viewshow"}],staticClass:"pickview"},[t("div",{staticClass:"pad"},[t("div",{staticClass:"rightpad"},[t("div",{staticClass:"pickers"},[t("div",{staticClass:"picker1"},[t("b-datepicker",{staticClass:"picker1View",attrs:{locale:e.locale,"first-day-of-week":1,size:"is-small",inline:""},on:{input:e.picker1_change},model:{value:e.actualZoneDate1,callback:function(t){e.actualZoneDate1=t},expression:"actualZoneDate1"}}),e.TimePick?t("VueTimepicker",{attrs:{hideClearButton:"",format:"HH:mm:ss","close-on-complete":""},scopedSlots:e._u([{key:"icon",fn:function(){return[t("i",{staticClass:"el-icon-time"})]},proxy:!0}],null,!1,1083033051),model:{value:e.selectTimeHMS1,callback:function(t){e.selectTimeHMS1=t},expression:"selectTimeHMS1"}}):e._e()],1),t("div",{staticClass:"picker2"},[t("b-datepicker",{staticClass:"picker2View",attrs:{locale:e.locale,"first-day-of-week":1,size:"is-small",inline:""},on:{input:e.picker2_change},model:{value:e.actualZoneDate2,callback:function(t){e.actualZoneDate2=t},expression:"actualZoneDate2"}}),e.TimePick?t("VueTimepicker",{attrs:{hideClearButton:"",format:"HH:mm:ss","close-on-complete":""},scopedSlots:e._u([{key:"icon",fn:function(){return[t("i",{staticClass:"el-icon-time"})]},proxy:!0}],null,!1,1083033051),model:{value:e.selectTimeHMS2,callback:function(t){e.selectTimeHMS2=t},expression:"selectTimeHMS2"}}):e._e()],1)])])]),t("div",{staticClass:"pickerfooter"},[t("div",[t("span",[e._v(e._s(e.CurrentPicked()))]),e._v(" "),t("span",{staticClass:"warnings"},[e._v(e._s(e.warningText()))])]),t("div",[t("b-button",{staticStyle:{"margin-right":"5px"},attrs:{size:"is-small"},on:{click:e.cancel}},[e._v(e._s(e.$t("message.取消")))]),t("b-button",{attrs:{size:"is-small",disabled:!e.isValidTimeRange()},on:{click:e.confirm}},[e._v(e._s(e.$t("message.确定")))])],1)])])],1)},a=[],l=s(23637),n=s(794);const r=s(36797);var o={name:"DateTimeRangePicker",components:{VueTimepicker:l.Z},model:{prop:"modelvalue",event:"change"},props:{modelvalue:String,msg:String,Zone:{type:Number,defualt:480},fontSize:{type:String,default:"mini"},inputPlaceHolder:{type:String,default:"请选择日期范围"},defaulted:{type:Boolean,default:!0},TimePick:Boolean},data(){return{locale:"",input1:null,actualZoneDate1:null,actualZoneDate2:null,selectTimeHMS1:"",selectTimeHMS2:"",valueText:"",viewshow:!1,warnings:"wwwwwwwwwwww",timepickergrain:{incrementMinutes:59,incrementHours:1}}},created(){this.initialize()},mounted(){document.addEventListener("click",this.dc,!0)},beforeDestroy(){document.removeEventListener("click",this.dc,!0)},methods:{initialize(){if(this.locale=this.$i18n.browerlocale,this.selectTimeHMS1="00:00:00",this.selectTimeHMS2="23:59:59",this.modelvalue&&this.modelvalue.length>=10){var e=this.modelvalue.split(n.Z.def.TimeRangeJoint);e[0]&&e[0].length>12?(this.actualZoneDate1=r(e[0],"YYYY-MM-DD HH:mm:ss").toDate(),this.TimePick&&e[0].split(" ").length>1&&(this.selectTimeHMS1=e[0].split(" ")[1])):e[0]&&10===e[0].length&&(this.actualZoneDate1=r(e[0],"YYYY-MM-DD").toDate()),e.length>1&&(e[1]&&e[1].length>12?(this.actualZoneDate2=r(e[1],"YYYY-MM-DD HH:mm:ss").toDate(),this.TimePick&&e[1].split(" ").length>1&&(this.selectTimeHMS2=e[1].split(" ")[1])):e[1]&&10===e[1].length&&(this.actualZoneDate2=r(e[1],"YYYY-MM-DD").toDate())),this.displayValueText()}else this.defaulted?(this.actualZoneDate1=r(r().format(),"YYYY-MM-DD 00:00:00").toDate(),this.actualZoneDate2=r(r().format(),"YYYY-MM-DD 23:59:59").toDate(),this.confirm()):this.displayValueText()},dc(e){this.viewshow=this.$el.contains(e.target)},picker1_change:function(){},picker2_change:function(){},CurrentPicked(){var e;return null===this.actualZoneDate1||null===this.actualZoneDate2?"":(e=this.TimePick?r(this.actualZoneDate1).format("YYYY-MM-DD")+" "+this.selectTimeHMS1+n.Z.def.TimeRangeJoint+r(this.actualZoneDate2).format("YYYY-MM-DD")+" "+this.selectTimeHMS2:r(this.actualZoneDate1).format("YYYY-MM-DD")+n.Z.def.TimeRangeJoint+r(this.actualZoneDate2).format("YYYY-MM-DD"),e)},isValidTimeRange(){return!(this.actualZoneDate2<this.actualZoneDate1)},warningText(){return this.isValidTimeRange()?"":this.$t("message.无效的时间范围")},onValueInput(){this.viewshow=!this.viewshow,this.adjustPopPosition()},adjustPopPosition(){var e=this.$refs.me,t=e.getElementsByClassName("pickview")[0];window.innerHeight-e.getBoundingClientRect().top>415?t.style.top=String(e.getBoundingClientRect().height+5)+"px":t.style.top="-385px",window.innerWidth-e.getBoundingClientRect().left>732?t.style.left="0px":e.getBoundingClientRect().right>732&&(t.style.left="-530px")},cancel(){this.viewshow=!1},displayValueText(){var e=this.CurrentPicked();return this.valueText=e.split("|")[0],this.autoWidthAdjust(),e},confirm(){var e=this.displayValueText();this.$emit("change",e),this.viewshow=!1},autoWidthAdjust(){setTimeout((()=>{if(this.$refs.autowidthspan){var e=this.$refs.autowidthspan.getClientRects(),t=this.$refs.me,s=t.getElementsByClassName("inputDefaultClass")[0];s.style.width=e[0].width+22+25+"px"}}),10)}},watch:{},computed:{autowidthspanText:function(){return this.valueText&&this.valueText.length>0?this.valueText:void 0!==this.$i18n.messages[this.inputPlaceHolder]?this.$t("message."+this.inputPlaceHolder):this.inputPlaceHolder}}},u=o,p=s(1001),h=(0,p.Z)(u,i,a,!1,null,"267f1c44",null),c=h.exports},97461:function(e,t,s){s.d(t,{Z:function(){return f}});var i=function(){var e=this,t=e._self._c;return t("div",{ref:"me",attrs:{id:"crf_PropCondition"}},[t("el-input",{class:{inputDefaultClass:!0,warningBorder:e.warnMessage.length>0},attrs:{size:e.fontSize,placeholder:e.inputPlaceHolder,"suffix-icon":e.inputSuffixIcon,readonly:""},on:{blur:e.input_onblur,focus:e.input_onfocus},model:{value:e.valueText,callback:function(t){e.valueText=t},expression:"valueText"}}),t("el-input",{staticStyle:{position:"fixed",width:"2000px",transform:"translateY(-9999px)"},attrs:{size:e.fontSize,readonly:""}},[t("span",{ref:"autowidthspan",attrs:{slot:"prefix"},slot:"prefix"},[e._v(e._s(e.autowidthspanText))])]),t("div",{ref:"padview",class:{pickview1:e.viewshow,pickviewHide:!e.viewshow}},[t("div",{staticClass:"editerea"},[t("SelectPicker",{ref:"ctl_picker",staticClass:"edititem",attrs:{favorites:e.favorites,defaulted:e.defaulted,tabGroups:e.pickableProps,fontSize:e.fontSize},on:{change:e.obj_change},model:{value:e.modelValueRef.pickersubject,callback:function(t){e.$set(e.modelValueRef,"pickersubject",t)},expression:"modelValueRef.pickersubject"}}),t("el-select",{staticClass:"opClass edititem",attrs:{size:e.fontSize,"default-first-option":"",placeholder:e.$t("message.请选择")},on:{change:e.op_change},model:{value:e.modelValueRef.selectedOp,callback:function(t){e.$set(e.modelValueRef,"selectedOp",t)},expression:"modelValueRef.selectedOp"}},[t("div",{ref:"opControl"},e._l(e.curOpGroup,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]),e.showPuts.showListElementInput?t("div",{ref:"listOpview",staticClass:"edititem inlineblock"},[e.showPuts.showListElementPosInput?t("div",{staticClass:"inlineblock"},[e._v("位"),t("el-input-number",{attrs:{size:e.fontSize,"controls-position":"right"},on:{change:e.on_change_list_pos},model:{value:e.modelValueRef.elPos,callback:function(t){e.$set(e.modelValueRef,"elPos",t)},expression:"modelValueRef.elPos"}}),e._v("处")],1):e._e(),t("el-select",{staticClass:"elOpClass",attrs:{size:e.fontSize,"default-first-option":"",placeholder:e.$t("message.请选择")},on:{change:e.el_op_change},model:{value:e.modelValueRef.elSelectedOp,callback:function(t){e.$set(e.modelValueRef,"elSelectedOp",t)},expression:"modelValueRef.elSelectedOp"}},[t("div",{ref:"elOpControl"},e._l(e.curEleOpGroup,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)])],1):e._e(),e.showPuts.showMultiTextInput?t("div",{staticClass:"edititem inlineblock"},[t("el-select",{attrs:{size:e.fontSize,multiple:"",filterable:"","allow-create":"","default-first-option":""},on:{change:e.on_params_change},model:{value:e.multiTextInput,callback:function(t){e.multiTextInput=t},expression:"multiTextInput"}},e._l(e.filterValues,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.showPuts.showMultiNumberInput?t("el-select",{staticClass:"edititem",attrs:{size:e.fontSize,multiple:"",filterable:"","allow-create":"","default-first-option":""},on:{change:e.changeNumberOnly},nativeOn:{keydown:function(t){return e.KeyDownNumbeOnly.apply(null,arguments)}},model:{value:e.multiNumberInput,callback:function(t){e.multiNumberInput=t},expression:"multiNumberInput"}},e._l(e.filterValues,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),e.showPuts.showSingleTextInput?t("el-select",{staticClass:"edititem",attrs:{size:e.fontSize,filterable:"","allow-create":"","default-first-option":""},on:{change:e.on_params_change},model:{value:e.singleTextInput,callback:function(t){e.singleTextInput=t},expression:"singleTextInput"}},e._l(e.filterValues,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),e.showPuts.showSingleNumberInput?t("div",{staticClass:"edititem inlineblock"},[t("el-input-number",{attrs:{size:e.fontSize,"controls-position":"right"},on:{change:e.on_params_change},model:{value:e.singleNumberInput,callback:function(t){e.singleNumberInput=t},expression:"singleNumberInput"}})],1):e._e(),e.showPuts.showRangeNumberInput?t("div",{staticClass:"edititem inlineblock"},[e._v(" "+e._s(e.$t("message.之间前位"))),t("el-input-number",{attrs:{size:e.fontSize,"controls-position":"right"},on:{change:e.on_params_change},model:{value:e.rangeNumberInput1,callback:function(t){e.rangeNumberInput1=t},expression:"rangeNumberInput1"}}),e._v(e._s(e.$t("message.之间中位"))+" "),t("el-input-number",{attrs:{size:e.fontSize,"controls-position":"right"},on:{change:e.on_params_change},model:{value:e.rangeNumberInput2,callback:function(t){e.rangeNumberInput2=t},expression:"rangeNumberInput2"}}),e._v(e._s(e.$t("message.之间后位"))+" ")],1):e._e(),e.showPuts.showRangeGrainTimeInput?t("div",{staticClass:"edititem inlineblock"},[t("el-input-number",{attrs:{size:e.fontSize,"controls-position":"right"},on:{change:e.on_params_change},model:{value:e.rangeGrainTimeInput1,callback:function(t){e.rangeGrainTimeInput1=t},expression:"rangeGrainTimeInput1"}}),e._v(e._s(e.$t("message.到"))+" "),t("el-input-number",{attrs:{size:e.fontSize,"controls-position":"right"},on:{change:e.on_params_change},model:{value:e.rangeGrainTimeInput2,callback:function(t){e.rangeGrainTimeInput2=t},expression:"rangeGrainTimeInput2"}}),t("el-select",{staticStyle:{width:"80px"},attrs:{size:e.fontSize,"default-first-option":""},on:{change:e.on_params_change},model:{value:e.rangeGrainTimeInputGrain,callback:function(t){e.rangeGrainTimeInputGrain=t},expression:"rangeGrainTimeInputGrain"}},[t("div",{ref:"timeGrainControl"},e._l(e.timeGrainOp,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)])],1):e._e(),e.showPuts.showSingleBoolInput?t("div",{staticClass:"edititem inlineblock"},[t("el-select",{staticStyle:{width:"60px"},attrs:{size:e.fontSize,"default-first-option":""},on:{change:e.on_params_change},model:{value:e.singleBoolInput,callback:function(t){e.singleBoolInput=t},expression:"singleBoolInput"}},e._l(e.boolValueOp,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),t("div",{ref:"timeRangeControl",staticClass:"edititem inlineblock"},[e.showPuts.showTimeRangeInput?t("DateTimeRangePicker",{attrs:{size:e.fontSize,TimePick:!0},on:{change:e.on_click_time_range},model:{value:e.timeRangeInput,callback:function(t){e.timeRangeInput=t},expression:"timeRangeInput"}}):e._e()],1),t("div",{ref:"timeValueControl",staticClass:"edititem inlineblock"},[e.showPuts.showTimeValueInput?t("DateTimePicker",{attrs:{TimePick:!0},on:{change:e.on_params_change},model:{value:e.timeValueInput,callback:function(t){e.timeValueInput=t},expression:"timeValueInput"}}):e._e()],1)],1),t("div",{staticClass:"condition-footer"},[e.warnMessage.length>0?t("span",{staticClass:"danger"},[e._v(e._s(e.warnMessage))]):t("span",[e._v(e._s(e.opDescript))])])])],1)},a=[],l=(s(57658),s(794)),n=s(43436),r=s(85004),o=s(25422),u=s(47056),p=s(63822),h={model:{prop:"modelvalue",event:"modelvaluechange"},components:{SelectPicker:n.Z,DateTimeRangePicker:r.Z,DateTimePicker:o.Z},props:{favorites:{type:String,default:"aa"},inputPlaceHolder:{type:String,default:"请点击输入"},inputSuffixIcon:{type:String,default:""},autoDropWidth:{type:Boolean,default:!0},dropWidth:{type:String,default:"280px"},dropHight:{type:String,default:"120px"},fontSize:{type:String,default:"mini"},modelvalue:{type:Object,default:function(){return{id:0,pickersubject:{value:"g1v3",label:"label",type:"string"},selectedOp:"",elSelectedOp:"",elPos:0,params:[]}}},selectValues:{type:Array,default:()=>[]},eventProps:{type:Array,default:()=>[{value:"FAIL",label:"失败次数",type:l.Z.def.DataType.DataTypeNumber},{value:"rank",label:"排名",type:l.Z.def.DataType.DataTypeNumber},{value:"guild_name",label:"公会名字",type:l.Z.def.DataType.DataTypeString},{value:"guild_member",label:"公会人数",type:l.Z.def.DataType.DataTypeNumber},{value:"guild_leader",label:"会长",type:l.Z.def.DataType.DataTypeString},{value:"win",label:"胜利次数",type:l.Z.def.DataType.DataTypeNumber},{value:"createtime",label:"创建日期",type:l.Z.def.DataType.DataTypeDatetime}]},formatInput:{type:Function,default(e){var t="";return 2===e.length?t=e[0].label+"."+e[1].label:3===e.length?t=e[1].label+"."+e[2].label:1===e.length&&(t=e[0].label),t}},userProps:{type:Array,default:()=>[{value:"FAIL",label:"累计购买次数",type:l.Z.def.DataType.DataTypeNumber},{value:"rank",label:"排名",type:l.Z.def.DataType.DataTypeNumber},{value:"guild_name",label:"用户名字",type:l.Z.def.DataType.DataTypeString},{value:"guild_member",label:"年龄",type:l.Z.def.DataType.DataTypeNumber},{value:"guild_leader",label:"性别",type:l.Z.def.DataType.DataTypeString},{value:"win",label:"胜利次数",type:l.Z.def.DataType.DataTypeNumber}]},userGroups:{type:Array,default:()=>[{value:"usergroup_appid1001_cnrfq1",label:"成年人分群1",tag_type:"自定义值标签",data_type_label:"文本",zone:8,zone_label:"UTC+8",app_id:"appid1001",date:"2023-07-19"}]},userTags:{type:Array,default:()=>[]},defaulted:{type:Boolean,default:!0}},data(){return{warnMessage:"",modelValueRef:{pickersubject:{},elPos:0},viewshow:!1,valueText:"",multiTextInput:"",multiNumberInput:[],singleTextInput:"",singleNumberInput:0,rangeNumberInput1:0,rangeNumberInput2:0,rangeGrainTimeInput1:0,rangeGrainTimeInput2:0,rangeGrainTimeInputGrain:l.Z.def.TimeGrain.GrainDay,singleBoolInput:"",timeRangeInput:"",timeValueInput:"",opDescript:"",showPuts:{showMultiTextInput:!0,showMultiNumberInput:!0,showSingleTextInput:!0,showSingleNumberInput:!0,showTimeRangeInput:!0,showTimeValueInput:!0,showRangeNumberInput:!0,showRangeGrainTimeInput:!0,showSingleBoolInput:!0,showListElementInput:!1,showListElementPosInput:!1},pickableProps1:[],curOpGroup:[],curEleOpGroup:[],filterOp:{StringOp:[],BoolOp:[],NumberOp:[],DatetimeOp:[],ObjectOp:[],ListObjectOp:[],ListOp:[],GroupOp:[]},timeGrainOp:[],boolValueOp:[{label:this.$t("message.为真"),value:"true"},{label:this.$t("message.为假"),value:"false"}],filterValues:[]}},created(){this.initialize()},mounted(){document.addEventListener("click",this.dc,!0)},beforeDestroy(){document.removeEventListener("click",this.dc,!0)},methods:{dc(e){this.$refs.me.contains(e.target)||this.$refs.padview&&this.$refs.padview.contains(e.target)||this.$refs.opControl&&this.$refs.opControl.contains(e.target)||this.$refs.elOpControl&&this.$refs.elOpControl.contains(e.target)||this.$refs.timeRangeControl&&this.$refs.timeRangeControl.contains(e.target)||this.$refs.timeValueControl&&this.$refs.timeValueControl.contains(e.target)||this.$refs.timeGrainControl&&this.$refs.timeGrainControl.contains(e.target)||(this.viewshow=!1,this.confirm("dc"))},initialize(){this.filterOp={StringOp:l.Z.def.FilterOp.getStringOpList(),BoolOp:l.Z.def.FilterOp.getBoolOpList(),NumberOp:l.Z.def.FilterOp.getNumberOpList(),DatetimeOp:l.Z.def.FilterOp.getDatetimeOpList(),ObjectOp:l.Z.def.FilterOp.getObjectOpList(),ListObjectOp:l.Z.def.FilterOp.getListObjectOpList(),ListOp:l.Z.def.FilterOp.getListOpList(),GroupOp:l.Z.def.FilterOp.getGroupOpList()},this.timeGrainOp=l.Z.def.TimeGrain.getTimeGrainOpList(),this.modelValueRef=l.Z.utils.DeepClone(this.modelvalue),this.modelValueRef.elPos=l.Z.utils.ParseNumberSafe(this.modelValueRef.elPos),this.getPickableProps(),this.initOpGroup(),this.initParamModelValue(),this.adjustOpWidth(),this.layoutInputPadView("created"),this.displayValueText(),this.defaulted&&this.chooseDefault()},initOpGroup(){this.modelValueRef&&this.modelValueRef.pickersubject&&this.modelValueRef.pickersubject.type&&this.changeOpGroupByType(this.modelValueRef.pickersubject.type)},initParamModelValue(){this.modelValueRef&&this.modelValueRef.params&&this.modelValueRef.params.length>0&&(this.showPuts.showMultiTextInput&&(this.multiTextInput=l.Z.utils.ParseStrListSafe(l.Z.utils.DeepClone(this.modelValueRef.params))),this.showPuts.showMultiNumberInput&&(this.multiNumberInput=l.Z.utils.ParseNumberListSafe(l.Z.utils.DeepClone(this.modelValueRef.params))),this.showPuts.showSingleTextInput&&this.modelValueRef.params&&this.modelValueRef.params.length>0&&(this.singleTextInput=l.Z.utils.ParseStrSafe(this.modelValueRef.params[0])),this.showPuts.showSingleNumberInput&&this.modelValueRef.params&&this.modelValueRef.params.length>0&&(this.singleNumberInput=l.Z.utils.ParseNumberSafe(this.modelValueRef.params[0])),this.showPuts.showTimeRangeInput&&(this.timeRangeInput=l.Z.utils.ParseStrSafe(this.modelValueRef.params[0])+l.Z.def.TimeRangeJoint+l.Z.utils.ParseStrSafe(this.modelValueRef.params[1])),this.showPuts.showTimeValueInput&&(this.timeValueInput=l.Z.utils.ParseStrSafe(this.modelValueRef.params[0])),this.showPuts.showRangeNumberInput&&2===this.modelValueRef.params.length&&(this.rangeNumberInput1=l.Z.utils.ParseNumberSafe(this.modelValueRef.params[0]),this.rangeNumberInput2=l.Z.utils.ParseNumberSafe(this.modelValueRef.params[1])),this.showPuts.showRangeGrainTimeInput&&3===this.modelValueRef.params.length&&(this.rangeGrainTimeInput1=l.Z.utils.ParseNumberSafe(this.modelValueRef.params[0]),this.rangeGrainTimeInput2=l.Z.utils.ParseNumberSafe(this.modelValueRef.params[1]),this.rangeGrainTimeInputGrain=l.Z.utils.ParseStrSafe(this.modelValueRef.params[2])),this.showPuts.showSingleBoolInput&&(this.singleBoolInput=this.modelValueRef.params[0]))},input_onfocus(){this.viewshow=!0,this.layoutInputPadView("input_onfocus")},input_onblur(){},autoWidthAdjust(){setTimeout((()=>{if(this.$refs.autowidthspan){var e=this.$refs.autowidthspan.getClientRects();if(e&&e[0]){var t=this.$refs.me.getElementsByClassName("inputDefaultClass")[0],s=0;this.$refs.autowidthspan.innerHTML&&this.$refs.autowidthspan.innerHTML.length>1&&(s=2*this.$refs.autowidthspan.innerHTML.split(" ").length),l.Z.utils.IsEmptyStr(this.inputSuffixIcon)?t.style.width=e[0].width+s+10+"px":t.style.width=e[0].width+s+10+25+"px"}}}),100)},chooseDefault(){},on_click_time_range(){this.on_params_change()},on_change_list_pos(){this.on_params_change()},op_change(){this.layoutInputPadView("op_change"),this.modelValueRef.selectedOp==l.Z.def.FilterOp.OpListCount&&(this.curEleOpGroup=this.filterOp.NumberOp),this.showPuts.showListElementInput&&(this.modelValueRef.elSelectedOp=this.curEleOpGroup[0].value,this.layoutInputPadView("op_change2")),this.displayValueText()},el_op_change(){this.layoutInputPadView("el_op_change"),this.displayValueText()},adjustOpWidth(){if(this.$refs.padview){var e=this.$refs.padview.getElementsByClassName("opClass")[0];l.Z.utils.AdjustWidthOfSelect(this.fontSize,l.Z.def.FilterOp.getZhLabel(this.modelValueRef.selectedOp),e)}},adjustEleOpWidth(){if(this.$refs.listOpview){var e=this.$refs.listOpview.getElementsByClassName("elOpClass")[0];l.Z.utils.AdjustWidthOfSelect(this.fontSize,l.Z.def.FilterOp.getZhLabel(this.modelValueRef.elSelectedOp),e)}},changeOpGroupByType(e){e==l.Z.def.DataType.DataTypeString?this.curOpGroup=this.filterOp.StringOp:e==l.Z.def.DataType.DataTypeBool?this.curOpGroup=this.filterOp.BoolOp:e==l.Z.def.DataType.DataTypeNumber?this.curOpGroup=this.filterOp.NumberOp:e==l.Z.def.DataType.DataTypeDatetime?this.curOpGroup=this.filterOp.DatetimeOp:e==l.Z.def.DataType.DataTypeObject?this.curOpGroup=this.filterOp.ObjectOp:e==l.Z.def.DataType.DataTypeListString?(this.curEleOpGroup=this.filterOp.StringOp,this.curOpGroup=this.filterOp.ListOp):e==l.Z.def.DataType.DataTypeListBool?(this.curEleOpGroup=this.filterOp.BoolOp,this.curOpGroup=this.filterOp.ListOp):e==l.Z.def.DataType.DataTypeListNumber?(this.curEleOpGroup=this.filterOp.NumberOp,this.curOpGroup=this.filterOp.ListOp):e==l.Z.def.DataType.DataTypeListDatetime?(this.curEleOpGroup=this.filterOp.DatetimeOp,this.curOpGroup=this.filterOp.ListOp):e==l.Z.def.DataType.DataTypeListObject?(this.curEleOpGroup=this.filterOp.ObjectOp,this.curOpGroup=this.filterOp.ListObjectOp):this.curOpGroup=this.filterOp.GroupOp},hasOpInGroup(e,t){if(e&&e.length>0)for(var s=0;s<e.length;s++)if(e[s].value===t)return!0;return!1},getFilterValueEnum(e){this.filterValues=[],(e&&e.type==l.Z.def.DataType.DataTypeNumber||e.type==l.Z.def.DataType.DataTypeString||e.type==l.Z.def.DataType.DataTypeListString||e.type==l.Z.def.DataType.DataTypeListNumber)&&(e.data_source_type==l.Z.def.DataSourceType.DataSourceTypeEventProp?u.Z["new"]().getEventPropEnum({app_id:this.getCurrAppId(),type_prop_name:e.type_prop_name}).then(function(e){e.data.forEach((e=>{this.filterValues.push({label:e,value:e,name:e})})),this.$forceUpdate()}.bind(this)).catch(function(e){console.log(e)}.bind(this)):e.data_source_type==l.Z.def.DataSourceType.DataSourceTypeUserProp?u.Z["new"]().getUserPropEnum({app_id:this.getCurrAppId(),type_prop_name:e.type_prop_name}).then(function(e){e.data.forEach((e=>{this.filterValues.push({label:e,value:e,name:e})})),this.$forceUpdate()}.bind(this)).catch(function(e){console.log(e)}.bind(this)):e.data_source_type==l.Z.def.DataSourceType.DataSourceTypeUserTag&&u.Z["new"]().getUserTagEnum({app_id:this.getCurrAppId(),name:e.value}).then(function(e){e.data.forEach((e=>{this.filterValues.push({label:e,value:e,name:e})})),this.$forceUpdate()}.bind(this)).catch(function(e){console.log(e)}.bind(this)))},obj_change(e,t){setTimeout((()=>{this.getFilterValueEnum(e)}),10),this.modelValueRef.pickersubject=e,this.modelValueRef.params=[],this.changeOpGroupByType(e.type),this.hasOpInGroup(this.curOpGroup,this.modelValueRef.selectedOp)||(this.modelValueRef.selectedOp=this.curOpGroup[0].value),this.layoutInputPadView("obj_change"),t&&this.confirm("obj_change")},layoutInputPadView(e){if(l.Z.utils.Ignore(e),this.adjustOpWidth(),this.adjustEleOpWidth(),this.hideAllValueSlot(),this.modelValueRef&&this.modelValueRef.pickersubject&&this.modelValueRef.pickersubject.value){var t=this.modelValueRef.pickersubject.type,s=this.modelValueRef.selectedOp,i=this.modelValueRef.elSelectedOp,a=[{dataType:t,op:s}];if(t==l.Z.def.DataType.DataTypeListString&&s==l.Z.def.FilterOp.OpListPos||t==l.Z.def.DataType.DataTypeListBool&&s==l.Z.def.FilterOp.OpListPos||t==l.Z.def.DataType.DataTypeListNumber&&s==l.Z.def.FilterOp.OpListPos||t==l.Z.def.DataType.DataTypeListDatetime&&s==l.Z.def.FilterOp.OpListPos||s==l.Z.def.FilterOp.OpListCount){this.showPuts.showListElementInput=!0;var n=l.Z.def.DataType.getElementPrimaryType(t);s==l.Z.def.FilterOp.OpListCount&&(n=l.Z.def.DataType.DataTypeNumber),a.push({dataType:n,op:i})}for(var r=0;r<a.length;r++){var o=a[r].dataType,u=a[r].op;switch(o){case l.Z.def.DataType.DataTypeString:switch(u){case l.Z.def.FilterOp.OpEqual:this.showPuts.showMultiTextInput=!0,this.opDescript=this.$t("message.等于：属性值等于任一设定值之一");break;case l.Z.def.FilterOp.OpNotEqual:this.showPuts.showMultiTextInput=!0,this.opDescript=this.$t("message.不等于：属性值不等于任一设定值之一，且不为空");break;case l.Z.def.FilterOp.OpLike:this.showPuts.showSingleTextInput=!0,this.opDescript=this.$t("message.包含：属性值完全包含设置值");break;case l.Z.def.FilterOp.OpNotLike:this.showPuts.showSingleTextInput=!0,this.opDescript=this.$t("message.不包含：属性值不包含设置值");break;case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break;case l.Z.def.FilterOp.OpRegLike:this.showPuts.showSingleTextInput=!0,this.opDescript=this.$t("message.正则匹配：属性值正则匹配设定值");break;case l.Z.def.FilterOp.OpRegNotLike:this.showPuts.showSingleTextInput=!0,this.opDescript=this.$t("message.正则不匹配：属性值正则不匹配设定值");break}break;case l.Z.def.DataType.DataTypeBool:switch(u){case l.Z.def.FilterOp.OpTrue:this.opDescript=this.$t("message.为真值：属性值为布尔真值");break;case l.Z.def.FilterOp.OpFalse:this.opDescript=this.$t("message.为假值：属性值为布尔假值");break;case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break}break;case l.Z.def.DataType.DataTypeNumber:switch(u){case l.Z.def.FilterOp.OpEqual:this.showPuts.showMultiNumberInput=!0,this.opDescript=this.$t("message.等于：属性值等于任一设定值之一");break;case l.Z.def.FilterOp.OpNotEqual:this.showPuts.showMultiNumberInput=!0,this.opDescript=this.$t("message.不等于：属性值不等于任一设定值之一，且不为空");break;case l.Z.def.FilterOp.OpLowerThan:this.showPuts.showSingleNumberInput=!0,this.opDescript=this.$t("message.小于：属性值小于设定值");break;case l.Z.def.FilterOp.OpLowerThanEqual:this.showPuts.showSingleNumberInput=!0,this.opDescript=this.$t("message.小于等于：属性值小于等于设定值");break;case l.Z.def.FilterOp.OpGreaterThan:this.showPuts.showSingleNumberInput=!0,this.opDescript=this.$t("message.大于：属性值大于设定值");break;case l.Z.def.FilterOp.OpGreaterThanEqual:this.showPuts.showSingleNumberInput=!0,this.opDescript=this.$t("message.大于等于：属性值大于设定值");break;case l.Z.def.FilterOp.OpBetween:this.showPuts.showRangeNumberInput=!0,this.opDescript=this.$t("message.区间：属性值位于设置区间内[左闭右闭]");break;case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break}break;case l.Z.def.DataType.DataTypeDatetime:switch(u){case l.Z.def.FilterOp.OpBetweenAbs:this.showPuts.showTimeRangeInput=!0,this.opDescript=this.$t("message.绝对时间区间：属性值位于绝对时间范围内[左闭右闭]");break;case l.Z.def.FilterOp.OpLowerThanEqual:this.showPuts.showTimeValueInput=!0,this.opDescript=this.$t("message.小于等于：属性值小于等于设定值");break;case l.Z.def.FilterOp.OpGreaterThanEqual:this.showPuts.showTimeValueInput=!0,this.opDescript=this.$t("message.大于等于：属性值大于设定值");break;case l.Z.def.FilterOp.OpBetweenNow:this.showPuts.showRangeGrainTimeInput=!0,this.opDescript=this.$t("message.相对当前时间区间: 属性值与当前时间比较值相关距离, 0表示当前");break;case l.Z.def.FilterOp.OpBetweenEvt:this.showPuts.showRangeGrainTimeInput=!0,this.opDescript=this.$t("message.相对事件时间区间: 属性值与事件时间比较值相关距离, 0表示当前");break;case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break}break;case l.Z.def.DataType.DataTypeObject:switch(u){case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break}break;case l.Z.def.DataType.DataTypeListString:switch(u){case l.Z.def.FilterOp.OpListHave:this.showPuts.showMultiTextInput=!0,this.opDescript=this.$t("message.存在元素：列表中包含设定值之一");break;case l.Z.def.FilterOp.OpListNotHave:this.showPuts.showMultiTextInput=!0,this.opDescript=this.$t("message.不存在元素：列表中包含设定值之一");break;case l.Z.def.FilterOp.OpListCount:this.showPuts.showListElementInput=!0,this.opDescript=this.$t("message.元素个数：列表中包含元素的数量");break;case l.Z.def.FilterOp.OpListPos:this.showPuts.showListElementPosInput=!0;break;case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break}break;case l.Z.def.DataType.DataTypeListBool:switch(u){case l.Z.def.FilterOp.OpListHave:this.showPuts.showSingleBoolInput=!0,this.opDescript=this.$t("message.存在元素：列表中包含设定值之一");break;case l.Z.def.FilterOp.OpListNotHave:this.showPuts.showSingleBoolInput=!0,this.opDescript=this.$t("message.不存在元素：列表中包含设定值之一");break;case l.Z.def.FilterOp.OpListCount:this.showPuts.showListElementInput=!0,this.opDescript=this.$t("message.元素个数：列表中包含元素的数量");break;case l.Z.def.FilterOp.OpListPos:this.showPuts.showListElementPosInput=!0;break;case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break}break;case l.Z.def.DataType.DataTypeListNumber:switch(u){case l.Z.def.FilterOp.OpListHave:this.showPuts.showMultiNumberInput=!0,this.opDescript=this.$t("message.存在元素：列表中包含设定值之一");break;case l.Z.def.FilterOp.OpListNotHave:this.showPuts.showMultiNumberInput=!0,this.opDescript=this.$t("message.不存在元素：列表中包含设定值之一");break;case l.Z.def.FilterOp.OpListCount:this.showPuts.showListElementInput=!0,this.opDescript=this.$t("message.元素个数：列表中包含元素的数量");break;case l.Z.def.FilterOp.OpListPos:this.showPuts.showListElementPosInput=!0;break;case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break}break;case l.Z.def.DataType.DataTypeListDatetime:switch(u){case l.Z.def.FilterOp.OpListHave:this.showPuts.showTimeValueInput=!0,this.opDescript=this.$t("message.存在元素：列表中包含设定值之一");break;case l.Z.def.FilterOp.OpListNotHave:this.showPuts.showTimeValueInput=!0,this.opDescript=this.$t("message.不存在元素：列表中包含设定值之一");break;case l.Z.def.FilterOp.OpListCount:this.showPuts.showListElementInput=!0,this.opDescript=this.$t("message.元素个数：列表中包含元素的数量");break;case l.Z.def.FilterOp.OpListPos:this.showPuts.showListElementPosInput=!0;break;case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break}break;case l.Z.def.DataType.DataTypeListObject:switch(u){case l.Z.def.FilterOp.OpNil:this.opDescript=this.$t("message.无值：属性值为空或不存在");break;case l.Z.def.FilterOp.OpNotNil:this.opDescript=this.$t("message.有值：属性值不为空");break}break}}}},hideAllValueSlot(){this.showPuts.showMultiTextInput=!1,this.showPuts.showMultiNumberInput=!1,this.showPuts.showSingleTextInput=!1,this.showPuts.showSingleNumberInput=!1,this.showPuts.showTimeRangeInput=!1,this.showPuts.showTimeValueInput=!1,this.showPuts.showRangeNumberInput=!1,this.showPuts.showRangeGrainTimeInput=!1,this.showPuts.showSingleBoolInput=!1,this.showPuts.showListElementInput=!1,this.showPuts.showListElementPosInput=!1},clearAllValueSlot(){},KeyDownNumbeOnly(e){"0"<=String(e.key)&&String(e.key)<="9"||"-"===e.key||"."===e.key||"Backspace"===e.key||"Delete"===e.key||"ArrowRight"===e.key||"ArrowLeft"===e.key||e.preventDefault()},changeNumberOnly(){if(this.multiNumberInput.length>0){var e=this.multiNumberInput[this.multiNumberInput.length-1];if(e=Number(e),"number"!==typeof e||!isFinite(e))return void this.multiNumberInput.splice(this.multiNumberInput.length-1,1)}this.on_params_change()},textListToUniqueNumberList(e){var t=[];if(e)for(var s=0;s<e.length;s++)t.push(l.Z.utils.ParseNumberSafe(e[s]));var i=t.filter((function(e,s){return t.indexOf(e)===s}));return i},getParamList(){var e=[];if(this.showPuts.showMultiTextInput&&(e=e.concat(this.multiTextInput)),this.showPuts.showMultiNumberInput){0===this.multiNumberInput.length&&(this.warnMessage=this.$t("message.值不能为空"));var t=this.textListToUniqueNumberList(this.multiNumberInput);this.multiNumberInput=t,e=e.concat(t)}return this.showPuts.showSingleTextInput&&(e=e.concat(this.singleTextInput)),this.showPuts.showSingleNumberInput&&(e=e.concat(this.singleNumberInput)),this.showPuts.showRangeNumberInput&&(e=e.concat([this.rangeNumberInput1,this.rangeNumberInput2])),this.showPuts.showRangeGrainTimeInput&&(e=e.concat([this.rangeGrainTimeInput1,this.rangeGrainTimeInput2,this.rangeGrainTimeInputGrain])),this.showPuts.showSingleBoolInput&&(e=e.concat([this.singleBoolInput])),this.showPuts.showTimeRangeInput&&(e=e.concat(this.timeRangeInput.split(l.Z.def.TimeRangeJoint))),this.showPuts.showTimeValueInput&&(e=e.concat([this.timeValueInput])),e},on_params_change(){this.displayValueText()},displayValueText(e){l.Z.utils.Ignore(e),this.warnMessage="";let t=this.getParamList();this.modelValueRef.params=t;var s="",i="  ";return this.modelValueRef.pickersubject&&this.modelValueRef.pickersubject.label&&(s+=this.modelValueRef.pickersubject.label),this.modelValueRef.selectedOp&&(s+=i+l.Z.def.FilterOp.getZhLabel(this.modelValueRef.selectedOp)),this.showPuts.showListElementPosInput&&(this.modelValueRef.elPos<1&&(this.warnMessage=this.$t("message.元素位置最小为1")),s+=i+this.$t("message.位于")+String(this.modelValueRef.elPos)),this.showPuts.showListElementInput&&(s+=i+l.Z.def.FilterOp.getZhLabel(this.modelValueRef.elSelectedOp)),this.showPuts.showMultiTextInput&&(s+=i+this.multiTextInput),this.showPuts.showMultiNumberInput&&(s+=i+this.multiNumberInput),this.showPuts.showSingleTextInput&&(s+=i+this.singleTextInput),this.showPuts.showSingleNumberInput&&this.modelValueRef.params&&1==this.modelValueRef.params.length&&(s+=i+this.singleNumberInput),this.showPuts.showRangeNumberInput&&this.modelValueRef.params&&2==this.modelValueRef.params.length&&(s+=i+" "+String(this.rangeNumberInput1)+this.$t("message.到")+String(this.rangeNumberInput2)+" "),this.showPuts.showRangeGrainTimeInput&&(s+=i+" "+String(this.rangeGrainTimeInput1)+this.$t("message.到")+String(this.rangeGrainTimeInput2)+l.Z.def.TimeGrain.getZhLabel(this.rangeGrainTimeInputGrain)),this.showPuts.showSingleBoolInput&&(s+=i+l.Z.def.FilterOp.getZhLabel(this.singleBoolInput)),this.showPuts.showTimeRangeInput&&(s+=i+this.timeRangeInput),this.showPuts.showTimeValueInput&&(s+=i+this.timeValueInput),this.valueText=s,this.autoWidthAdjust(),s},getPickableProps(){for(var e=[],t={group_name:this.$t("message.事件属性"),value:this.$t("message.事件属性"),type:"list",icon:"",children:this.eventProps},s=0;s<t.children.length;s++)t.children[s].label2=l.Z.def.PropertyType.getZhLabel(t.children[s].label2),t.children[s].label3=l.Z.def.DataType.getZhLabel(t.children[s].type);t.children&&t.children.length>0&&e.push(t);var i={group_name:this.$t("message.用户属性"),value:this.$t("message.用户属性"),type:"list",icon:"",children:this.userProps};for(s=0;s<i.children.length;s++)i.children[s].label2=l.Z.def.PropertyType.getZhLabel(i.children[s].label2),i.children[s].label3=l.Z.def.DataType.getZhLabel(i.children[s].type);return i.children&&i.children.length>0&&e.push(i),this.pickableProps1=e,e},confirm(e){l.Z.utils.Ignore(e),this.displayValueText(),this.modelValueRef.warnMessage=this.warnMessage,this.$emit("modelvaluechange",this.modelValueRef),this.$emit("change",this.modelValueRef),this.viewshow=!1}},watch:{eventProps(e,t){l.Z.utils.Ignore(e,t),this.initialize()},userProps(e,t){l.Z.utils.Ignore(e,t),this.initialize()},userGroups(e,t){l.Z.utils.Ignore(e,t),this.initialize()},userTags(e,t){l.Z.utils.Ignore(e,t),this.initialize()}},computed:{...(0,p.Se)({getCurrAppId:"system/getCurrAppId",getCurrAccountLabel:"system/getCurrAccountLabel"}),autowidthspanText:function(){return this.valueText&&this.valueText.length>0?this.valueText:this.inputPlaceHolder},pickableProps(){for(var e=[],t={group_name:this.$t("message.事件属性"),value:this.$t("message.事件属性"),type:"list",icon:"",children:this.eventProps},s=0;s<t.children.length;s++)t.children[s].label2=l.Z.def.PropertyType.getZhLabel(t.children[s].label2),t.children[s].label3=l.Z.def.DataType.getZhLabel(t.children[s].type);t.children&&t.children.length>0&&e.push(t);var i={group_name:this.$t("message.用户属性"),value:this.$t("message.用户属性"),type:"list",icon:"",children:this.userProps};for(s=0;s<i.children.length;s++)i.children[s].label2=l.Z.def.PropertyType.getZhLabel(i.children[s].label2),i.children[s].label3=l.Z.def.DataType.getZhLabel(i.children[s].type);i.children&&i.children.length>0&&e.push(i);var a={group_name:this.$t("message.用户分群"),value:this.$t("message.用户分群"),type:"list",icon:"",children:this.userGroups};for(s=0;s<a.children.length;s++)a.children[s].label2=l.Z.def.PropertyType.getZhLabel(a.children[s].label2),a.children[s].label3=l.Z.def.DataType.getZhLabel(a.children[s].type);a.children&&a.children.length>0&&e.push(a);var n={group_name:this.$t("message.用户标签"),value:this.$t("message.用户标签"),type:"list",icon:"",children:this.userTags};for(s=0;s<n.children.length;s++)n.children[s].label2=l.Z.def.PropertyType.getZhLabel(n.children[s].label2),n.children[s].label3=l.Z.def.DataType.getZhLabel(n.children[s].type);return n.children&&n.children.length>0&&e.push(n),e}}},c=h,m=s(1001),d=(0,m.Z)(c,i,a,!1,null,"00fa8a50",null),f=d.exports}}]);