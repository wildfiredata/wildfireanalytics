"use strict";(self["webpackChunkwildfire"]=self["webpackChunkwildfire"]||[]).push([[3303],{13303:function(t,e,l){l.r(e),l.d(e,{default:function(){return g}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"root"},[e("div",{staticClass:"title"},[t._v(t._s(t.$t("message.角色管理")))]),e("div",{staticClass:"workdiv"},[e("div",{staticClass:"leftdiv flexcol"},[e("div",{staticClass:"leftbutton"},[e("el-button",{staticClass:"mb10",attrs:{type:"primary"},on:{click:t.newRole}},[t._v(t._s(t.$t("message.创建角色")))]),e("el-input",{attrs:{"prefix-icon":"el-icon-search"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}})],1),e("div",{staticClass:"listrole flexcol margin10"},t._l(t.filteredRoleList,(function(l){return e("div",{key:l.id,staticClass:"roleitem",on:{click:function(e){return t.selectRole(l)}}},[t._v(t._s(l.name)+" ")])})),0)]),t.currRole&&t.currRole.id?e("div",{staticClass:"rightdiv"},[e("div",{staticClass:"toolbar margin10"},[e("div",{staticClass:"mr10"},[t._v(t._s(t.$t("message.角色名字"))+": "),e("el-input",{staticClass:"width200",attrs:{disabled:t.currRole.is_system,size:"mini"},model:{value:t.currRole.name,callback:function(e){t.$set(t.currRole,"name",e)},expression:"currRole.name"}})],1),e("div",[t.currRole.is_system?t._e():e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.saveRolePost()}}},[t._v(t._s(t.$t("message.保存")))]),-1==t.currRole.id||t.currRole.is_system?t._e():e("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.saveRolePost(!0)}}},[t._v(t._s(t.$t("message.另存为")))]),-1==t.currRole.id||t.currRole.is_system?t._e():e("el-button",{attrs:{size:"mini"},on:{click:t.deleteRole}},[t._v(t._s(t.$t("message.删除")))]),t.currRole.is_system?e("span",{staticClass:"hinttext"},[t._v("("+t._s(t.$t("message.系统内置角色"))+")")]):t._e()],1)]),e("el-tabs",{attrs:{type:"border-card"}},[e("el-tab-pane",{attrs:{label:t.$t("message.数据权限")}},[e("div",[e("div",{staticClass:"secttitle mb10"},[t._v(t._s(t.$t("message.可访问项目")))]),e("el-radio-group",{staticClass:"mb10",model:{value:t.projectGrant.Custom,callback:function(e){t.$set(t.projectGrant,"Custom",e)},expression:"projectGrant.Custom"}},[e("el-radio",{attrs:{label:"all"}},[t._v(t._s(t.$t("message.全部项目")))]),e("el-radio",{attrs:{label:"part"}},[t._v(t._s(t.$t("message.自定义")))])],1),"all"!=t.projectGrant.Custom?e("div",{staticClass:"borderp10 mb10"},[e("div",{staticClass:"mb10"},[e("el-select",{staticClass:"width100 mr5",attrs:{size:"small",placeholder:t.$t("message.请选择")},model:{value:t.projectGrant.Allow,callback:function(e){t.$set(t.projectGrant,"Allow",e)},expression:"projectGrant.Allow"}},t._l(t.AllowList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("span",[t._v(t._s(t.$t("message.访问以下项目")))])],1),e("el-select",{staticClass:"widthfull el-select-inputfilter",attrs:{size:"small",multiple:"",filterable:"",placeholder:t.$t("message.请选择")},model:{value:t.projectGrant.GrantList,callback:function(e){t.$set(t.projectGrant,"GrantList",e)},expression:"projectGrant.GrantList"}},t._l(t.ProjectList,(function(l){return e("el-option",{key:l.value,attrs:{label:l.label,value:l.value}},[t._v(t._s(l.value)+"|"+t._s(l.label))])})),1)],1):t._e()],1),"all"==t.projectGrant.Custom||t.projectGrant.Allow?e("el-tabs",{staticClass:"tabdiv",attrs:{"tab-position":"left"}},[e("el-tab-pane",{attrs:{label:t.$t("message.用户表权限")}},[e("div",[e("div",{staticClass:"secttitle mb10 mt10"},[t._v(t._s(t.$t("message.可用用户属性")))]),e("el-radio-group",{staticClass:"mb10",model:{value:t.userPropGrant.Custom,callback:function(e){t.$set(t.userPropGrant,"Custom",e)},expression:"userPropGrant.Custom"}},[e("el-radio",{attrs:{label:"all"}},[t._v(t._s(t.$t("message.全部用户属性")))]),e("el-radio",{attrs:{label:"part"}},[t._v(t._s(t.$t("message.自定义")))])],1),"all"!=t.userPropGrant.Custom?e("div",{staticClass:"borderp10 mb10"},[e("div",{staticClass:"mb10"},[e("el-select",{staticClass:"width100 mr5",attrs:{size:"small",placeholder:t.$t("message.请选择")},model:{value:t.userPropGrant.Allow,callback:function(e){t.$set(t.userPropGrant,"Allow",e)},expression:"userPropGrant.Allow"}},t._l(t.AllowList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("span",[t._v(t._s(t.$t("message.访问以下用户属性")))])],1),e("el-select",{staticClass:"widthfull el-select-inputfilter",attrs:{size:"small",multiple:"",filterable:"",placeholder:t.$t("message.请选择")},model:{value:t.userPropGrant.GrantList,callback:function(e){t.$set(t.userPropGrant,"GrantList",e)},expression:"userPropGrant.GrantList"}},t._l(t.UserPropList,(function(l){return e("el-option",{key:l.value,attrs:{label:l.label,value:l.value}},[t._v(t._s(l.value)+"|"+t._s(l.label))])})),1)],1):t._e()],1)]),e("el-tab-pane",{attrs:{label:t.$t("message.事件表权限")}},[e("div",[e("div",{staticClass:"secttitle mb10"},[t._v(t._s(t.$t("message.可用事件")))]),e("div",{staticClass:"hinttext mb10"},[t._v(t._s(t.$t("message.当用户未获得访问授权时，则用户对应的所有事件也不可访问")))]),e("el-radio-group",{staticClass:"mb10",model:{value:t.eventGrant.Custom,callback:function(e){t.$set(t.eventGrant,"Custom",e)},expression:"eventGrant.Custom"}},[e("el-radio",{attrs:{label:"all"}},[t._v(t._s(t.$t("message.全部事件")))]),e("el-radio",{attrs:{label:"part"}},[t._v(t._s(t.$t("message.自定义")))])],1),"all"!=t.eventGrant.Custom?e("div",{staticClass:"borderp10 mb10"},[e("div",{staticClass:"mb10"},[e("el-select",{staticClass:"width100 mr5",attrs:{size:"small",placeholder:t.$t("message.请选择")},model:{value:t.eventGrant.Allow,callback:function(e){t.$set(t.eventGrant,"Allow",e)},expression:"eventGrant.Allow"}},t._l(t.AllowList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("span",[t._v(t._s(t.$t("message.访问以下事件")))])],1),e("el-select",{staticClass:"widthfull el-select-inputfilter",attrs:{size:"small",multiple:"",filterable:"",placeholder:t.$t("message.请选择")},model:{value:t.eventGrant.GrantList,callback:function(e){t.$set(t.eventGrant,"GrantList",e)},expression:"eventGrant.GrantList"}},t._l(t.EventList,(function(l){return e("el-option",{key:l.value,attrs:{label:l.label,value:l.value}},[t._v(t._s(l.value)+"|"+t._s(l.label))])})),1)],1):t._e()],1),e("div",[e("div",{staticClass:"secttitle mb10 mt10"},[t._v(t._s(t.$t("message.可用事件属性")))]),e("el-radio-group",{staticClass:"mb10",model:{value:t.eventPropGrant.Custom,callback:function(e){t.$set(t.eventPropGrant,"Custom",e)},expression:"eventPropGrant.Custom"}},[e("el-radio",{attrs:{label:"all"}},[t._v(t._s(t.$t("message.全部事件属性")))]),e("el-radio",{attrs:{label:"part"}},[t._v(t._s(t.$t("message.自定义")))])],1),"all"!=t.eventPropGrant.Custom?e("div",{staticClass:"borderp10 mb10"},[e("div",{staticClass:"mb10"},[e("el-select",{staticClass:"width100 mr5",attrs:{size:"small",placeholder:t.$t("message.请选择")},model:{value:t.eventPropGrant.Allow,callback:function(e){t.$set(t.eventPropGrant,"Allow",e)},expression:"eventPropGrant.Allow"}},t._l(t.AllowList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),e("span",[t._v(t._s(t.$t("message.访问以下事件属性")))])],1),e("el-select",{staticClass:"widthfull el-select-inputfilter",attrs:{size:"small",multiple:"",filterable:"",placeholder:t.$t("message.请选择")},model:{value:t.eventPropGrant.GrantList,callback:function(e){t.$set(t.eventPropGrant,"GrantList",e)},expression:"eventPropGrant.GrantList"}},t._l(t.EventPropList,(function(l){return e("el-option",{key:l.value,attrs:{label:l.label,value:l.value}},[t._v(t._s(l.value)+"|"+t._s(l.label))])})),1)],1):t._e()],1)]),e("el-tab-pane",{attrs:{label:t.$t("message.管理权限")}},[e("div",{staticClass:"secttitle mb10 mt10"},[t._v(t._s(t.$t("message.可管理资产")))]),e("div",{staticClass:"hinttext mb10"},[t._v(t._s(t.$t("message.管理员可以管理项目中产生的分析报表、组合报表、账号成员和公共空间资产")))]),e("div",{staticClass:"hinttext mb10"},[t._v(t._s(t.$t("message.分析师只可以管理自己的分析报表、组合报表和公共空间资产")))]),e("div",{staticClass:"hinttext mb10"},[t._v(t._s(t.$t("message.普通成员只可以管理自己的分析报表和组合报表")))]),e("el-radio-group",{staticClass:"mb10",model:{value:t.AllowManage,callback:function(e){t.AllowManage=e},expression:"AllowManage"}},["super"==t.AllowManage?e("el-radio",{attrs:{label:"super"}},[t._v(t._s(t.$t("message.超级管理员")))]):t._e(),"super"!=t.AllowManage?e("el-radio",{attrs:{label:"manager"}},[t._v(t._s(t.$t("message.管理员")))]):t._e(),"super"!=t.AllowManage?e("el-radio",{attrs:{label:"analyst"}},[t._v(t._s(t.$t("message.分析师")))]):t._e(),"super"!=t.AllowManage?e("el-radio",{attrs:{label:"member"}},[t._v(t._s(t.$t("message.普通成员")))]):t._e()],1)],1)],1):t._e()],1),e("el-tab-pane",{attrs:{label:t.$t("message.功能权限")}},[e("el-button",{attrs:{size:"mini",plain:""},on:{click:function(e){return t.setAllCheck(!0)}}},[t._v(t._s(t.$t("message.全选")))]),e("el-button",{attrs:{size:"mini",plain:""},on:{click:t.chooseReverse}},[t._v(t._s(t.$t("message.反选")))]),e("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.funPointTableData,"span-method":t.objectSpanMethod,border:""}},[e("el-table-column",{attrs:{label:t.$t("message.一级")},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-checkbox",{model:{value:l.row.node1.check,callback:function(e){t.$set(l.row.node1,"check",e)},expression:"scope.row.node1.check"}},[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(l.row.node1.label))])])]}}],null,!1,1903978458)}),e("el-table-column",{attrs:{label:t.$t("message.二级")},scopedSlots:t._u([{key:"default",fn:function(l){return[e("el-checkbox",{model:{value:l.row.node2.check,callback:function(e){t.$set(l.row.node2,"check",e)},expression:"scope.row.node2.check"}},[e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(l.row.node2.label))])])]}}],null,!1,311380602)}),e("el-table-column",{attrs:{label:t.$t("message.三级")},scopedSlots:t._u([{key:"default",fn:function(l){return[l.row.children?e("span",t._l(l.row.children,(function(l){return e("el-checkbox",{key:l.id,model:{value:l.check,callback:function(e){t.$set(l,"check",e)},expression:"child.check"}},[t._v(t._s(l.label))])})),1):t._e()]}}],null,!1,3675958574)})],1)],1)],1)],1):t._e()]),e("DialogDeleteRole",{ref:"dialogdelete",on:{confirm:t.on_delete_role}})],1)},a=[],r=(l(57658),l(794)),o=l(32900),i=function(){var t=this,e=t._self._c;return e("div",{ref:"me",attrs:{id:"crf_deleterole"}},[e("div",{attrs:{readonly:""},on:{click:function(e){t.newDialog.show=!0}}},[t._t("default")],2),e("el-dialog",{attrs:{visible:t.newDialog.show,width:"450px","show-close":!1,"close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){return t.$set(t.newDialog,"show",e)}}},[e("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("message.您确定删除角色?")))]),e("div",{staticClass:"dialogBody"},[e("el-form",{ref:"formData",attrs:{"label-width":"140px",model:t.formData,rules:t.rules}},[e("el-form-item",{attrs:{label:t.$t("message.角色名字")+":",prop:"name"}},[e("span",[t._v(t._s(t.formData.name))])])],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"dialogfooterButton",attrs:{size:"mini"},on:{click:function(e){t.newDialog.show=!1}}},[t._v(t._s(t.$t("message.取 消")))]),e("el-button",{staticClass:"dialogfooterButton",attrs:{size:"mini"},on:{click:function(e){return t.confirm("formData")}}},[t._v(t._s(t.$t("message.确 定")))])],1)])],1)},n=[],u=l(63822),c={props:{},data(){return{row:null,newDialog:{show:!1},formData:{name:"",label:""},rules:{}}},created(){},mounted(){},beforeDestroy(){},methods:{showDialog(t){this.row=r.Z.utils.DeepClone(t),this.formData.name=t.name,this.formData.label=t.label,this.newDialog.show=!0},confirm(){o.Z["new"]().RoleDelete({id:this.row.id}).then(function(t){this.currRole=t.data,this.$emit("confirm"),this.newDialog.show=!1}.bind(this)).catch(function(t){r.Z.utils.Err(this,t)}.bind(this))}},computed:{...(0,u.Se)({getCurrAppId:"system/getCurrAppId"})}},d=c,p=l(1001),h=(0,p.Z)(d,i,n,!1,null,"6ed1d970",null),m=h.exports,v=l(47056),f=l(94029),b={components:{DialogDeleteRole:m},data(){return{AllowList:[],CustomList:[],ProjectList:[],EventList:[],EventPropList:[],UserGroupList:[],UserPropList:[],RoleList:[],filterText:"",funPointFullTree:{},funPointFullMap:null,funPointTableData:[],currRole:{fun_points:{}},eventGrant:{Allow:!0,Custom:"all",GrantList:[]},eventPropGrant:{Allow:!0,Custom:"all",GrantList:[]},projectGrant:{Allow:!0,Custom:"all",GrantList:[]},userGrant:{Allow:!0,Custom:"all",GrantList:[]},userPropGrant:{Allow:!0,Custom:"all",GrantList:[]},AllowManage:r.Z.def.ManageRole.ManageRoleAnalyst}},mounted(){this.initialize()},methods:{initialize(){this.tableData=[],this.AllowList=[{value:!0,label:this.$t("message.允许")},{value:!1,label:this.$t("message.禁止")}],this.CustomList=[{value:!0,label:this.$t("message.允许")},{value:!1,label:this.$t("message.禁止")}],this.loadProjectList(),this.loadRoleList(),this.funPointFullTree=r.Z.def.FunPoint.getFunPointTree(),this.funPointFullMap=r.Z.def.FunPoint.funTreeToMap(this.funPointFullTree),this.funPointTableData=this.funPointTreeToList(this.funPointFullTree)},selectRole(t){if(this.currRole=r.Z.utils.DeepClone(t),this.projectGrant=this.GrantOjectFromAllownessObj(this.currRole.allow_project_id),this.projectGrant.Custom==r.Z.def.RoleGrant.RoleGrantAll||this.projectGrant.Custom==r.Z.def.RoleGrant.RoleGrantPart){var e="";this.projectGrant.Custom==r.Z.def.RoleGrant.RoleGrantPart&&(e=this.projectGrant.GrantList.join(",")),this.reset_data(),this.load_app_data(e).then((()=>{if(this.eventGrant=this.GrantOjectFromAllownessObj(this.currRole.allow_event_name),this.eventPropGrant=this.GrantOjectFromAllownessObj(this.currRole.allow_event_prop_name),this.userGrant=this.GrantOjectFromAllownessObj(this.currRole.allow_user_name),this.userPropGrant=this.GrantOjectFromAllownessObj(this.currRole.allow_user_prop_name),this.AllowManage=this.currRole.allow_manage,this.currRole.full_fun_granted)this.setAllCheck(!0);else{this.setAllCheck(!1);var t=r.Z.def.FunPoint.funTreeToMap(this.currRole.fun_points);t.forEach((t=>{var e=this.funPointFullMap.get(t.id);void 0!==e&&(e.check=!!t.check)}))}})).catch((t=>{console.log(t),r.Z.utils.Err(this,t)}))}},newRole(){this.currRole={id:-1,fun_points:{}},this.eventGrant={Allow:!0,Custom:"all",GrantList:[]},this.eventPropGrant={Allow:!0,Custom:"all",GrantList:[]},this.projectGrant={Allow:!0,Custom:"all",GrantList:[]},this.userGrant={Allow:!0,Custom:"all",GrantList:[]},this.userPropGrant={Allow:!0,Custom:"all",GrantList:[]},this.AllowManage=r.Z.def.ManageRole.ManageRoleMember},deleteRole(){this.$refs.dialogdelete.showDialog(this.currRole)},load_app_data(t){this.reset_list();var e=this.loadPureAllEventList(t),l=this.loadPureAllEventPropList(t),s=this.loadPureAllUserPropList(t),a=this.loadUserGroupList(t);return Promise.all([e,l,s,a])},reset_list(){this.EventList=[],this.EventPropList=[],this.UserGroupList=[],this.UserPropList=[]},reset_data(){this.eventGrant={Allow:!0,Custom:"all",GrantList:[]},this.eventPropGrant={Allow:!0,Custom:"all",GrantList:[]},this.userGrant={Allow:!0,Custom:"all",GrantList:[]},this.userPropGrant={Allow:!0,Custom:"all",GrantList:[]}},on_change_projectselect(){if(this.reset_data(),this.projectGrant.Custom==r.Z.def.RoleGrant.RoleGrantAll||this.projectGrant.Custom==r.Z.def.RoleGrant.RoleGrantPart){var t="";this.projectGrant.Custom==r.Z.def.RoleGrant.RoleGrantPart&&(t=this.projectGrant.GrantList.join(",")),this.load_app_data(t).catch((t=>{r.Z.utils.Err(this,t)}))}},on_delete_role(){r.Z.utils.Success(this,this.$t("message.删除成功")),this.currRole={},this.loadRoleList()},funPointTreeToList(t){var e=[];if(t&&t.children)for(var l=0;l<t.children.length;l++)if(t.children[l].children&&t.children[l].children.length>=1)for(var s=0;s<t.children[l].children.length;s++){var a={node1:t.children[l],node2:t.children[l].children[s],children:t.children[l].children[s].children};0==s&&(a.rowspan=t.children[l].children.length),e.push(a)}else e.push({node1:t.children[l],node2:{},children:[]});return e},objectSpanMethod({row:t,column:e,rowIndex:l,columnIndex:s}){if(r.Z.utils.Ignore(t,e,l),0===s)return t.rowspan&&t.rowspan>=1?{rowspan:t.rowspan,colspan:1}:{rowspan:0,colspan:0}},setAllCheck(t){for(let[e,l]of this.funPointFullMap)r.Z.utils.Ignore(e),l.check=t},chooseReverse(){for(let[t,e]of this.funPointFullMap)r.Z.utils.Ignore(t),e.check=!e.check},loadRoleList(){o.Z["new"]().RoleList({}).then(function(t){r.Z.utils.Ignore(t),this.RoleList=t.data}.bind(this)).catch(function(t){r.Z.utils.Success(this,t)}.bind(this))},GrantOjectToAllownessObj(t){var e={};return t.Custom==r.Z.def.RoleGrant.RoleGrantAll?e.Grant=r.Z.def.RoleGrant.RoleGrantAll:t.Custom==r.Z.def.RoleGrant.RoleGrantPart&&(t.Allow?e.Grant=r.Z.def.RoleGrant.RoleGrantPart:e.Grant=r.Z.def.RoleGrant.RoleGrantForbid,e.Content=r.Z.utils.ParseStrListSafe(t.GrantList).join(",")),e},GrantOjectFromAllownessObj(t){var e={};return t&&(t.Grant==r.Z.def.RoleGrant.RoleGrantAll?e.Custom=r.Z.def.RoleGrant.RoleGrantAll:t.Grant==r.Z.def.RoleGrant.RoleGrantPart?(e.Custom=r.Z.def.RoleGrant.RoleGrantPart,e.Allow=!0,e.GrantList=t.Content.split(",")):t.Grant==r.Z.def.RoleGrant.RoleGrantForbid&&(e.Custom=r.Z.def.RoleGrant.RoleGrantPart,e.Allow=!1,e.GrantList=t.Content.split(","))),e},grantErrMsg(t){if(t.Custom==r.Z.def.RoleGrant.RoleGrantPart){var e=r.Z.utils.ParseStrListSafe(t.GrantList).join(",");if(0==e.length)return this.$t("message.许可或禁止的选项不能为空")}},saveRolePost(t){var e=r.Z.utils.IsValidUnicodeName(this.currRole.name);if(e)r.Z.utils.Err(this,e);else if(e=this.grantErrMsg(this.projectGrant),e)r.Z.utils.Err(this,e);else if(e=this.grantErrMsg(this.eventGrant),e)r.Z.utils.Err(this,e);else if(e=this.grantErrMsg(this.eventPropGrant),e)r.Z.utils.Err(this,e);else if(e=this.grantErrMsg(this.userGrant),e)r.Z.utils.Err(this,e);else if(e=this.grantErrMsg(this.userPropGrant),e)r.Z.utils.Err(this,e);else{var l={id:this.currRole.id,name:this.currRole.name,allow_project_id:this.GrantOjectToAllownessObj(this.projectGrant),allow_event_name:this.GrantOjectToAllownessObj(this.eventGrant),allow_event_prop_name:this.GrantOjectToAllownessObj(this.eventPropGrant),allow_user_name:this.GrantOjectToAllownessObj(this.userGrant),allow_user_prop_name:this.GrantOjectToAllownessObj(this.userPropGrant),allow_manage:this.AllowManage,fun_points:this.funPointFullTree};t&&(l.id=0),l.id>0?o.Z["new"]().RoleUpdate(l).then(function(t){this.currRole=t.data,this.loadRoleList(),r.Z.utils.Success(this,this.$t("message.保存成功"))}.bind(this)).catch(function(t){r.Z.utils.Success(this,t)}.bind(this)):o.Z["new"]().RoleAdd(l).then(function(t){this.currRole=t.data,this.loadRoleList()}.bind(this)).catch(function(t){r.Z.utils.Success(this,t)}.bind(this))}},deleteRolePost(){o.Z["new"]().RoleDelete({id:this.currRole.id}).then(function(t){this.currRole=t.data,this.loadRoleList()}.bind(this)).catch(function(t){r.Z.utils.Success(this,t)}.bind(this))},loadProjectList(){f.Z["new"]().list({}).then(function(t){for(var e=0;e<t.data.length;e++)this.ProjectList.push({value:t.data[e].app_id,label:t.data[e].name})}.bind(this)).catch(function(t){r.Z.utils.Err(this,t)}.bind(this))},loadPureAllEventList(t){return v.Z["new"]().getPureAllEventList({app_list:t}).then(function(t){for(var e=0;e<t.data.length;e++)this.EventList.push({value:t.data[e].name,label:t.data[e].label})}.bind(this))},loadPureAllEventPropList(t){return v.Z["new"]().getPureAllEventPropList({app_list:t}).then(function(t){for(var e=0;e<t.data.length;e++)this.EventPropList.push({value:t.data[e].name,label:t.data[e].label})}.bind(this))},loadPureAllUserPropList(t){return v.Z["new"]().getPureAllUserPropList({app_list:t}).then(function(t){for(var e=0;e<t.data.length;e++)this.UserPropList.push({value:t.data[e].name,label:t.data[e].label})}.bind(this))},loadUserGroupList(t){return v.Z["new"]().ListAllUserGroup({app_list:t,ignore_client_data:!0}).then(function(t){for(var e=0;e<t.data.length;e++)this.UserGroupList.push({value:t.data[e].name,label:t.data[e].label})}.bind(this))}},computed:{...(0,u.Se)({getCurrAppId:"system/getCurrAppId"}),filteredRoleList:function(){return 0==this.filterText.length?this.RoleList:this.RoleList.filter((t=>t.name&&t.name.indexOf(this.filterText)>=0))}}},_=b,G=(0,p.Z)(_,s,a,!1,null,"07af6971",null),g=G.exports},32900:function(t,e,l){l.d(e,{Z:function(){return a}});var s=l(91803);class a{static new(){return new a}login(t){return(0,s.Z)({url:"/api/portal/login",method:"post",data:t})}chpwd(t){return(0,s.Z)({url:"/api/portal/user/chpwd",method:"post",data:t})}Setpwd(t){return(0,s.Z)({url:"/api/portal/user/setpwd",method:"post",data:t})}MemberList(t){return(0,s.Z)({url:"/api/portal/user/list",method:"post",data:t})}MemberAdd(t){return(0,s.Z)({url:"/api/portal/user/add",method:"post",data:t})}MemberDelete(t){return(0,s.Z)({url:"/api/portal/user/delete",method:"post",data:t})}MemberUpdate(t){return(0,s.Z)({url:"/api/portal/user/update",method:"post",data:t})}MemberGet(t){return(0,s.Z)({url:"/api/portal/user/get",method:"post",data:t})}MemberGroupList(t){return(0,s.Z)({url:"/api/portal/usergroup/list",method:"post",data:t})}MemberGroupAdd(t){return(0,s.Z)({url:"/api/portal/usergroup/add",method:"post",data:t})}MemberGroupUpdate(t){return(0,s.Z)({url:"/api/portal/usergroup/update",method:"post",data:t})}MemberGroupDelete(t){return(0,s.Z)({url:"/api/portal/usergroup/delete",method:"post",data:t})}RoleList(t){return(0,s.Z)({url:"/api/portal/role/list",method:"post",data:t})}RoleAdd(t){return(0,s.Z)({url:"/api/portal/role/add",method:"post",data:t})}RoleUpdate(t){return(0,s.Z)({url:"/api/portal/role/update",method:"post",data:t})}RoleDelete(t){return(0,s.Z)({url:"/api/portal/role/delete",method:"post",data:t})}}}}]);